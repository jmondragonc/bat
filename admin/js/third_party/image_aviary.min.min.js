/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){if(b.extend(b.FE.DEFAULTS,{aviaryKey:"542e1ff5d5144b9b81cef846574ba6cf",aviaryScriptURL:"https://dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js",aviaryOptions:{displayImageSize:!0,theme:"minimum"}}),b.FE.PLUGINS.imageAviary=function(a){function j(e,d){var f=document.createElement("script");f.type="text/javascript",f.defer="defer",f.src=e,f.innerText="",f.onload=d,document.getElementsByTagName("head")[0].appendChild(f)}function i(){a.shared.feather_editor||(a.shared.feather_editor=!0,"undefined"==typeof Aviary?j(a.opts.aviaryScriptURL,h):h())}function h(){a.shared.feather_editor=new Aviary.Feather(b.extend({apiKey:a.opts.aviaryKey,onSave:function(l,k){var f=new Image;f.crossOrigin="Anonymous",f.onload=function(){var s=document.createElement("CANVAS"),r=s.getContext("2d");s.height=this.height,s.width=this.width,r.drawImage(this,0,0);for(var q=s.toDataURL("image/png"),p=atob(q.split(",")[1]),o=[],n=0;n<p.length;n++){o.push(p.charCodeAt(n))}var m=new Blob([new Uint8Array(o)],{type:"image/png"});a.shared.feather_editor.instance.image.edit(b(a.shared.feather_editor.current_image)),a.shared.feather_editor.instance.image.upload([m]),a.shared.feather_editor.close()},f.src=k,a.shared.feather_editor.showWaitIndicator()},onError:function(c){throw new Error(c.message)},onClose:function(){a.shared.feather_editor.instance.image.get()||a.shared.feather_editor.instance.image.edit(b(a.shared.feather_editor.current_image))}},a.opts.aviaryOptions))}function g(c){"object"==typeof c.shared.feather_editor&&(c.shared.feather_editor.current_image=c.image.get()[0],c.shared.feather_editor.instance=c,c.shared.feather_editor.launch({image:c.image.get()[0],url:c.image.get()[0].src}))}return{_init:i,launch:g}},b.FE.DefineIcon("aviary",{NAME:"sliders",FA5NAME:"sliders-h"}),b.FE.RegisterCommand("aviary",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(d,c){this.imageAviary.launch(this)},plugin:"imageAviary"}),!b.FE.PLUGINS.image){throw new Error("Image Aviary plugin requires image plugin.")}b.FE.DEFAULTS.imageEditButtons.push("aviary")});