/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.DEFAULTS,{codeMirror:window.CodeMirror,codeMirrorOptions:{lineNumbers:!0,tabMode:"indent",indentWithTabs:!0,lineWrapping:!0,mode:"text/html",tabSize:2},codeBeautifierOptions:{end_with_newline:!0,indent_inner_html:!0,extra_liners:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","ol","table","dl"],brace_style:"expand",indent_char:"	",indent_size:1,wrap_line_length:0},codeViewKeepActiveButtons:["fullscreen"]}),b.FE.PLUGINS.codeView=function(z){function y(){return z.$box.hasClass("fr-code-view")}function x(){return o?o.getValue():p.val()}function w(){y()&&(o.setSize(null,z.opts.height?z.opts.height:"auto"),z.opts.heightMin||z.opts.height?z.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",z.opts.heightMin||z.opts.height):z.$box.find(".CodeMirror-scroll, .CodeMirror-gutters").css("min-height",""))}function v(d){var e=x();z.html.set(e),z.$el.blur(),z.$tb.find(" > .fr-command").not(d).removeClass("fr-disabled").attr("aria-disabled",!1),d.removeClass("fr-active").attr("aria-pressed",!1),z.selection.setAtStart(z.el),z.selection.restore(),z.placeholder.refresh(),z.undo.saveStep()}function u(B){p||(r(),!o&&z.opts.codeMirror?o=z.opts.codeMirror.fromTextArea(p.get(0),z.opts.codeMirrorOptions):z.events.$on(p,"keydown keyup change input",function(){z.opts.height?this.removeAttribute("rows"):(this.rows=1,0===this.value.length?this.style.height="auto":this.style.height=this.scrollHeight+"px")})),z.undo.saveStep(),z.html.cleanEmptyTags(),z.html.cleanWhiteTags(!0),z.core.hasFocus()&&(z.core.isEmpty()||(z.selection.save(),z.$el.find('.fr-marker[data-type="true"]:first').replaceWith('<span class="fr-tmp fr-sm">F</span>'),z.$el.find('.fr-marker[data-type="false"]:last').replaceWith('<span class="fr-tmp fr-em">F</span>')));var A=z.html.get(!1,!0);z.$el.find("span.fr-tmp").remove(),z.$box.toggleClass("fr-code-view",!0),z.core.hasFocus()&&z.$el.blur(),A=A.replace(/<span class="fr-tmp fr-sm">F<\/span>/,"FROALA-SM"),A=A.replace(/<span class="fr-tmp fr-em">F<\/span>/,"FROALA-EM"),z.codeBeautifier&&(A=z.codeBeautifier.run(A,z.opts.codeBeautifierOptions));var n,m;if(o){n=A.indexOf("FROALA-SM"),m=A.indexOf("FROALA-EM"),n>m?n=m:m-=9,A=A.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"");var l=A.substring(0,n).length-A.substring(0,n).replace(/\n/g,"").length,k=A.substring(0,m).length-A.substring(0,m).replace(/\n/g,"").length;n=A.substring(0,n).length-A.substring(0,A.substring(0,n).lastIndexOf("\n")+1).length,m=A.substring(0,m).length-A.substring(0,A.substring(0,m).lastIndexOf("\n")+1).length,o.setSize(null,z.opts.height?z.opts.height:"auto"),z.opts.heightMin&&z.$box.find(".CodeMirror-scroll").css("min-height",z.opts.heightMin),o.setValue(A),o.focus(),o.setSelection({line:l,ch:n},{line:k,ch:m}),o.refresh(),o.clearHistory()}else{n=A.indexOf("FROALA-SM"),m=A.indexOf("FROALA-EM")-9,z.opts.heightMin&&p.css("min-height",z.opts.heightMin),z.opts.height&&p.css("height",z.opts.height),z.opts.heightMax&&p.css("max-height",z.opts.height||z.opts.heightMax),p.val(A.replace(/FROALA-SM/g,"").replace(/FROALA-EM/g,"")).trigger("change");var j=b(z.o_doc).scrollTop();p.focus(),p.get(0).setSelectionRange(n,m),b(z.o_doc).scrollTop(j)}z.$tb.find(" > .fr-command").not(B).filter(function(){return z.opts.codeViewKeepActiveButtons.indexOf(b(this).data("cmd"))<0}).addClass("fr-disabled").attr("aria-disabled",!0),B.addClass("fr-active").attr("aria-pressed",!0),!z.helpers.isMobile()&&z.opts.toolbarInline&&z.toolbar.hide()}function t(c){"undefined"==typeof c&&(c=!y());var e=z.$tb.find('.fr-command[data-cmd="html"]');c?(z.popups.hideAll(),u(e)):(z.$box.toggleClass("fr-code-view",!1),v(e))}function s(){y()&&t(!1),o&&o.toTextArea(),p.val("").removeData().remove(),p=null,a&&(a.remove(),a=null)}function r(){p=b('<textarea class="fr-code" tabIndex="-1">'),z.$wp.append(p),p.attr("dir",z.opts.direction),z.$box.hasClass("fr-basic")||(a=b('<a data-cmd="html" title="Code View" class="fr-command fr-btn html-switch'+(z.helpers.isMobile()?"":" fr-desktop")+'" role="button" tabIndex="-1"><i class="fa fa-code"></i></button>'),z.$box.append(a),z.events.bindClick(z.$box,"a.html-switch",function(){t(!1)}));var c=function(){return !y()};z.events.on("buttons.refresh",c),z.events.on("copy",c,!0),z.events.on("cut",c,!0),z.events.on("paste",c,!0),z.events.on("destroy",s,!0),z.events.on("html.set",function(){y()&&t(!0)}),z.events.on("codeView.update",w),z.events.on("form.submit",function(){y()&&(z.html.set(x()),z.events.trigger("contentChanged",[],!0))},!0)}function q(){return z.$wp?void 0:!1}var p,o,a;return{_init:q,toggle:t,isActive:y,get:x}},b.FE.RegisterCommand("html",{title:"Code View",undo:!1,focus:!1,forcedRefresh:!0,toggle:!0,callback:function(){this.codeView.toggle()},plugin:"codeView"}),b.FE.DefineIcon("html",{NAME:"code"})});