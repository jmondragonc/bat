/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.FE.PLUGINS.lists=function(z){function y(c){return'<span class="fr-open-'+c.toLowerCase()+'"></span>'}function x(c){return'<span class="fr-close-'+c.toLowerCase()+'"></span>'}function w(n,m){for(var l=[],k=0;k<n.length;k++){var j=n[k].parentNode;"LI"==n[k].tagName&&j.tagName!=m&&l.indexOf(j)<0&&l.push(j)}for(k=l.length-1;k>=0;k--){var i=b(l[k]);i.replaceWith("<"+m.toLowerCase()+" "+z.node.attributes(i.get(0))+">"+i.html()+"</"+m.toLowerCase()+">")}}function v(F,E){w(F,E);var D,C=z.html.defaultTag(),B=null;F.length&&(D="rtl"==z.opts.direction||"rtl"==b(F[0]).css("direction")?"margin-right":"margin-left");for(var A=0;A<F.length;A++){if("LI"!=F[A].tagName){var n=z.helpers.getPX(b(F[A]).css(D))||0;F[A].style.marginLeft=null,null===B&&(B=n);var m=B>0?"<"+E+' style="'+D+": "+B+'px;">':"<"+E+">",e="</"+E+">";for(n-=B;n/z.opts.indentMargin>0;){m+="<"+E+">",e+=e,n-=z.opts.indentMargin}C&&F[A].tagName.toLowerCase()==C?b(F[A]).replaceWith(m+"<li"+z.node.attributes(F[A])+">"+b(F[A]).html()+"</li>"+e):b(F[A]).wrap(m+"<li></li>"+e)}}z.clean.lists()}function u(I){var H,G;for(H=I.length-1;H>=0;H--){for(G=H-1;G>=0;G--){if(b(I[G]).find(I[H]).length||I[G]==I[H]){I.splice(H,1);break}}}var F=[];for(H=0;H<I.length;H++){var E=b(I[H]),D=I[H].parentNode,C=E.attr("class");if(E.before(x(D.tagName)),"LI"==D.parentNode.tagName){E.before(x("LI")),E.after(y("LI"))}else{var B="";C&&(B+=' class="'+C+'"');var A="rtl"==z.opts.direction||"rtl"==E.css("direction")?"margin-right":"margin-left";z.helpers.getPX(b(D).css(A))&&(b(D).attr("style")||"").indexOf(A+":")>=0&&(B+=' style="'+A+":"+z.helpers.getPX(b(D).css(A))+'px;"'),z.html.defaultTag()&&0===E.find(z.html.blockTagsQuery()).length&&E.wrapInner("<"+z.html.defaultTag()+B+"></"+z.html.defaultTag()+">"),z.node.isEmpty(E.get(0),!0)||0!==E.find(z.html.blockTagsQuery()).length||E.append("<br>"),E.append(y("LI")),E.prepend(x("LI"))}E.after(y(D.tagName)),"LI"==D.parentNode.tagName&&(D=D.parentNode.parentNode),F.indexOf(D)<0&&F.push(D)}for(H=0;H<F.length;H++){var d=b(F[H]),c=d.html();c=c.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),c=c.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),d.replaceWith(z.node.openTagString(d.get(0))+c+z.node.closeTagString(d.get(0)))}z.$el.find("li:empty").remove(),z.$el.find("ul:empty, ol:empty").remove(),z.clean.lists(),z.html.wrap()}function t(f,e){for(var h=!0,g=0;g<f.length;g++){if("LI"!=f[g].tagName){return !1}f[g].parentNode.tagName!=e&&(h=!1)}return h}function s(e){z.selection.save(),z.html.wrap(!0,!0,!0,!0),z.selection.restore();for(var g=z.selection.blocks(),f=0;f<g.length;f++){"LI"!=g[f].tagName&&"LI"==g[f].parentNode.tagName&&(g[f]=g[f].parentNode)}z.selection.save(),t(g,e)?u(g):v(g,e),z.html.unwrap(),z.selection.restore()}function r(j,i){var h=b(z.selection.element());if(h.get(0)!=z.el){var g=h.get(0);g="LI"!=g.tagName&&g.firstElementChild&&"LI"!=g.firstElementChild.tagName?h.parents("li").get(0):"LI"==g.tagName||g.firstElementChild?g.firstElementChild&&"LI"==g.firstElementChild.tagName?h.get(0).firstChild:h.get(0):h.parents("li").get(0),g&&g.parentNode.tagName==i&&z.el.contains(g.parentNode)&&j.addClass("fr-active")}}function q(F){z.selection.save();for(var E=0;E<F.length;E++){var D=F[E].previousSibling;if(D){var C=b(F[E]).find("> ul, > ol").last().get(0);if(C){for(var B=b("<li>").prependTo(b(C)),A=z.node.contents(F[E])[0];A&&!z.node.isList(A);){var n=A.nextSibling;B.append(A),A=n}b(D).append(b(C)),b(F[E]).remove()}else{var m=b(D).find("> ul, > ol").last().get(0);if(m){b(m).append(b(F[E]))}else{var l=b("<"+F[E].parentNode.tagName+">");b(D).append(l),l.append(b(F[E]))}}}}z.clean.lists(),z.selection.restore()}function p(c){z.selection.save(),u(c),z.selection.restore()}function o(g){if("indent"==g||"outdent"==g){for(var k=!1,j=z.selection.blocks(),i=[],h=0;h<j.length;h++){"LI"==j[h].tagName?(k=!0,i.push(j[h])):"LI"==j[h].parentNode.tagName&&(k=!0,i.push(j[h].parentNode))}k&&("indent"==g?q(i):p(i))}}function a(){z.events.on("commands.after",o),z.events.on("keydown",function(j){if(j.which==b.FE.KEYCODE.TAB){for(var i=z.selection.blocks(),h=[],g=0;g<i.length;g++){"LI"==i[g].tagName?h.push(i[g]):"LI"==i[g].parentNode.tagName&&h.push(i[g].parentNode)}if(h.length>1||h.length&&(z.selection.info(h[0]).atStart||z.node.isEmpty(h[0]))){return j.preventDefault(),j.stopPropagation(),j.shiftKey?p(h):q(h),!1}}},!0)}return{_init:a,format:s,refresh:r}},b.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(c){this.lists.refresh(c,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),b.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(c){this.lists.refresh(c,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),b.FE.DefineIcon("formatUL",{NAME:"list-ul"}),b.FE.DefineIcon("formatOL",{NAME:"list-ol"})});