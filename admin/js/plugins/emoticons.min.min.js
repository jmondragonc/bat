/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),b.extend(b.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),b.FE.PLUGINS.emoticons=function(t){function s(){var e=t.$tb.find('.fr-command[data-cmd="emoticons"]'),i=t.popups.get("emoticons");if(i||(i=q()),!i.hasClass("fr-active")){t.popups.refresh("emoticons"),t.popups.setContainer("emoticons",t.$tb);var h=e.offset().left+e.outerWidth()/2,g=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("emoticons",h,g,e.outerHeight())}}function r(){t.popups.hide("emoticons")}function q(){var e="";t.opts.toolbarInline&&t.opts.emoticonsButtons.length>0&&(e='<div class="fr-buttons fr-emoticons-buttons">'+t.button.buildList(t.opts.emoticonsButtons)+"</div>");var g={buttons:e,emoticons:o()},f=t.popups.create("emoticons",g);return t.tooltip.bind(f,".fr-emoticon"),n(f),f}function p(){if(!t.selection.isCollapsed()){return !1}var g=t.selection.element(),k=t.selection.endElement();if(g&&t.node.hasClass(g,"fr-emoticon")){return g}if(k&&t.node.hasClass(k,"fr-emoticon")){return k}var j=t.selection.ranges(0),i=j.startContainer;if(i.nodeType==Node.ELEMENT_NODE&&i.childNodes.length>0&&j.startOffset>0){var h=i.childNodes[j.startOffset-1];if(t.node.hasClass(h,"fr-emoticon")){return h}}return !1}function o(){for(var d='<div style="text-align: center">',e=0;e<t.opts.emoticonsSet.length;e++){0!==e&&e%t.opts.emoticonsStep===0&&(d+="<br>"),d+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+t.language.translate(t.opts.emoticonsSet[e].desc)+'" role="button" data-param1="'+t.opts.emoticonsSet[e].code+'">'+(t.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+t.opts.emoticonsSet[e].code+'.svg"/>':"&#x"+t.opts.emoticonsSet[e].code+";")+'<span class="fr-sr-only">'+t.language.translate(t.opts.emoticonsSet[e].desc)+"&nbsp;&nbsp;&nbsp;</span></span>"}return t.opts.emoticonsUseImage&&(d+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),d+="</div>"}function n(d){t.events.on("popup.tab",function(H){var G=b(H.currentTarget);if(!t.popups.isVisible("emoticons")||!G.is("span, a")){return !0}var F,E,D,C=H.which;if(b.FE.KEYCODE.TAB==C){if(G.is("span.fr-emoticon")&&H.shiftKey||G.is("a")&&!H.shiftKey){var B=d.find(".fr-buttons");F=!t.accessibility.focusToolbar(B,H.shiftKey?!0:!1)}if(F!==!1){var A=d.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");G.is("span.fr-emoticon")&&(A=A.not("span.fr-emoticon:not(:focus)")),E=A.index(G),E=H.shiftKey?((E-1)%A.length+A.length)%A.length:(E+1)%A.length,D=A.get(E),t.events.disableBlur(),D.focus(),F=!1}}else{if(b.FE.KEYCODE.ARROW_UP==C||b.FE.KEYCODE.ARROW_DOWN==C||b.FE.KEYCODE.ARROW_LEFT==C||b.FE.KEYCODE.ARROW_RIGHT==C){if(G.is("span.fr-emoticon")){var z=G.parent().find("span.fr-emoticon");E=z.index(G);var y=t.opts.emoticonsStep,x=Math.floor(z.length/y),w=E%y,v=Math.floor(E/y),u=v*y+w,c=x*y;b.FE.KEYCODE.ARROW_UP==C?u=((u-y)%c+c)%c:b.FE.KEYCODE.ARROW_DOWN==C?u=(u+y)%c:b.FE.KEYCODE.ARROW_LEFT==C?u=((u-1)%c+c)%c:b.FE.KEYCODE.ARROW_RIGHT==C&&(u=(u+1)%c),D=b(z.get(u)),t.events.disableBlur(),D.focus(),F=!1}}else{b.FE.KEYCODE.ENTER==C&&(G.is("a")?G[0].click():t.button.exec(G),F=!1)}}return F===!1&&(H.preventDefault(),H.stopPropagation()),F},!0)}function m(j,i){var h=p(),f=t.selection.ranges(0);h?(0===f.startOffset&&t.selection.element()===h?b(h).before(b.FE.MARKERS+b.FE.INVISIBLE_SPACE):f.startOffset>0&&t.selection.element()===h&&f.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&b(h).after(b.FE.INVISIBLE_SPACE+b.FE.MARKERS),t.selection.restore(),t.html.insert('<span class="fr-emoticon fr-deletable'+(i?" fr-emoticon-img":"")+'"'+(i?' style="background: url('+i+');"':"")+">"+(i?"&nbsp;":j)+"</span>&nbsp;"+b.FE.MARKERS,!0)):t.html.insert('<span class="fr-emoticon fr-deletable'+(i?" fr-emoticon-img":"")+'"'+(i?' style="background: url('+i+');"':"")+">"+(i?"&nbsp;":j)+"</span>&nbsp;",!0)}function l(){t.popups.hide("emoticons"),t.toolbar.showInline()}function a(){var d=function(){for(var e=t.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),f=0;f<e.length;f++){e[f].className+=" fr-deletable"}};d(),t.events.on("html.set",d),t.events.on("keydown",function(h){if(t.keys.isCharacter(h.which)&&t.selection.inEditor()){var g=t.selection.ranges(0),f=p();t.node.hasClass(f,"fr-emoticon-img")&&f&&(0===g.startOffset&&t.selection.element()===f?b(f).before(b.FE.MARKERS+b.FE.INVISIBLE_SPACE):b(f).after(b.FE.INVISIBLE_SPACE+b.FE.MARKERS),t.selection.restore())}}),t.events.on("keyup",function(j){for(var i=t.el.querySelectorAll(".fr-emoticon"),h=0;h<i.length;h++){"undefined"!=typeof i[h].textContent&&0===i[h].textContent.replace(/\u200B/gi,"").length&&b(i[h]).remove()}if(!(j.which>=b.FE.KEYCODE.ARROW_LEFT&&j.which<=b.FE.KEYCODE.ARROW_DOWN)){var f=p();t.node.hasClass(f,"fr-emoticon-img")&&(b(f).append(b.FE.MARKERS),t.selection.restore())}})}return{_init:a,insert:m,showEmoticonsPopup:s,hideEmoticonsPopup:r,back:l}},b.FE.DefineIcon("emoticons",{NAME:"smile-o",FA5NAME:"smile"}),b.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),b.FE.RegisterCommand("insertEmoticon",{callback:function(d,c){this.emoticons.insert("&#x"+c+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+c+".svg":null),this.emoticons.hideEmoticonsPopup()}}),b.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),b.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})});