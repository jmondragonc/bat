/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),b.extend(b.FE.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),b.FE.PLUGINS.forms=function(J){function I(d){d.preventDefault(),J.selection.clear(),b(this).data("mousedown",!0)}function H(c){b(this).data("mousedown")&&(c.stopPropagation(),b(this).removeData("mousedown"),a=this,B(this)),c.preventDefault()}function G(){J.$el.find("input, textarea, button").removeData("mousedown")}function F(){b(this).removeData("mousedown")}function E(){J.events.$on(J.$el,J._mousedown,"input, textarea, button",I),J.events.$on(J.$el,J._mouseup,"input, textarea, button",H),J.events.$on(J.$el,"touchmove","input, textarea, button",F),J.events.$on(J.$el,J._mouseup,G),J.events.$on(J.$win,J._mouseup,G),y(!0)}function D(){return a?a:null}function C(){var e="";J.opts.formEditButtons.length>0&&(e='<div class="fr-buttons">'+J.button.buildList(J.opts.formEditButtons)+"</div>");var g={buttons:e},f=J.popups.create("forms.edit",g);return J.$wp&&J.events.$on(J.$wp,"scroll.link-edit",function(){D()&&J.popups.isVisible("forms.edit")&&B(D())}),f}function B(l){var k=J.popups.get("forms.edit");k||(k=C()),a=l;var j=b(l);J.popups.refresh("forms.edit"),J.popups.setContainer("forms.edit",J.$sc);var i=j.offset().left+j.outerWidth()/2,h=j.offset().top+j.outerHeight();J.popups.show("forms.edit",i,h,j.outerHeight())}function A(){var h=J.popups.get("forms.update"),g=D();if(g){var f=b(g);f.is("button")?h.find('input[type="text"][name="text"]').val(f.text()):h.find('input[type="text"][name="text"]').val(f.attr("placeholder"))}h.find('input[type="text"][name="text"]').trigger("change")}function z(){a=null}function y(h){if(h){return J.popups.onRefresh("forms.update",A),J.popups.onHide("forms.update",z),!0}var m="";J.opts.formUpdateButtons.length>=1&&(m='<div class="fr-buttons">'+J.button.buildList(J.opts.formUpdateButtons)+"</div>");var l="",k=0;l='<div class="fr-forms-text-layer fr-layer fr-active">',l+='<div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex="'+ ++k+'"></div>',l+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="'+ ++k+'" type="button">'+J.language.translate("Update")+"</button></div></div>";var j={buttons:m,text_layer:l},i=J.popups.create("forms.update",j);return i}function x(){var l=D();if(l){var k=b(l),j=J.popups.get("forms.update");j||(j=y()),J.popups.isVisible("forms.update")||J.popups.refresh("forms.update"),J.popups.setContainer("forms.update",J.$sc);var i=k.offset().left+k.outerWidth()/2,h=k.offset().top+k.outerHeight();J.popups.show("forms.update",i,h,k.outerHeight())}}function w(l,k,j){"undefined"==typeof k&&(k=J.opts.formStyles),"undefined"==typeof j&&(j=J.opts.formMultipleStyles);var i=D();if(!i){return !1}if(!j){var h=Object.keys(k);h.splice(h.indexOf(l),1),b(i).removeClass(h.join(" "))}b(i).toggleClass(l)}function v(){J.events.disableBlur(),J.selection.restore(),J.events.enableBlur();var c=D();c&&J.$wp&&("BUTTON"==c.tagName&&J.selection.restore(),B(c))}function u(){var j=J.popups.get("forms.update"),i=D();if(i){var h=b(i),g=j.find('input[type="text"][name="text"]').val()||"";g.length&&(h.is("button")?h.text(g):h.attr("placeholder",g)),J.popups.hide("forms.update"),B(i)}}function t(){E(),J.events.$on(J.$el,"submit","form",function(c){return c.preventDefault(),!1})}var a;return{_init:t,updateInput:u,getInput:D,applyStyle:w,showUpdatePopup:x,showEditPopup:B,back:v}},b.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),b.FE.DefineIcon("inputStyle",{NAME:"magic"}),b.FE.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var e='<ul class="fr-dropdown-list">',d=this.opts.formStyles;for(var f in d){d.hasOwnProperty(f)&&(e+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'+f+'">'+this.language.translate(d[f])+"</a></li>")}return e+="</ul>"},callback:function(e,d){var f=this.forms.getInput();f&&(this.forms.applyStyle(d),this.forms.showEditPopup(f))},refreshOnShow:function(a,h){var g=this.forms.getInput();if(g){var f=b(g);h.find(".fr-command").each(function(){var c=b(this).data("param1");b(this).toggleClass("fr-active",f.hasClass(c))})}}}),b.FE.DefineIcon("inputEdit",{NAME:"edit"}),b.FE.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),b.FE.DefineIcon("inputBack",{NAME:"arrow-left"}),b.FE.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),b.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}})});