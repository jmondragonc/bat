/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]"}),b.extend(b.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),b.FE.PLUGINS.table=function(aN){function aM(){var f=aN.$tb.find('.fr-command[data-cmd="insertTable"]'),i=aN.popups.get("table.insert");if(i||(i=aH()),!i.hasClass("fr-active")){aN.popups.refresh("table.insert"),aN.popups.setContainer("table.insert",aN.$tb);var h=f.offset().left+f.outerWidth()/2,g=f.offset().top+(aN.opts.toolbarBottom?10:f.outerHeight()-10);aN.popups.show("table.insert",h,g,f.outerHeight())}}function aK(){var g=a7();if(g){var k=aN.popups.get("table.edit");if(k||(k=aB()),k){aN.popups.setContainer("table.edit",aN.$sc);var j=aY(g),i=(j.left+j.right)/2,h=j.bottom;aN.popups.show("table.edit",i,h,j.bottom-j.top),aN.edit.isDisabled()&&(aN.toolbar.disable(),aN.$el.removeClass("fr-no-selection"),aN.edit.on(),aN.button.bulkRefresh(),aN.selection.setAtEnd(aN.$el.find(".fr-selected-cell:last").get(0)),aN.selection.restore())}}}function aJ(){var g=a7();if(g){var k=aN.popups.get("table.colors");k||(k=aA()),aN.popups.setContainer("table.colors",aN.$sc);var j=aY(g),i=(j.left+j.right)/2,h=j.bottom;av(),aN.popups.show("table.colors",i,h,j.bottom-j.top)}}function aI(){0===bl().length&&aN.toolbar.enable()}function aH(j){if(j){return aN.popups.onHide("table.insert",function(){aN.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0}var i="";aN.opts.tableInsertButtons.length>0&&(i='<div class="fr-buttons">'+aN.button.buildList(aN.opts.tableInsertButtons)+"</div>");var h={buttons:i,rows_columns:aD()},g=aN.popups.create("table.insert",h);return aN.events.$on(g,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(c){aG(b(c.currentTarget))},!0),aC(g),g}function aG(i){var o=i.data("row"),n=i.data("col"),m=i.parent();m.siblings(".fr-table-size-info").html(o+" &times; "+n),m.find("> span").removeClass("hover fr-active-item");for(var l=1;l<=aN.opts.tableInsertMaxSize;l++){for(var k=0;k<=aN.opts.tableInsertMaxSize;k++){var j=m.find('> span[data-row="'+l+'"][data-col="'+k+'"]');o>=l&&n>=k?j.addClass("hover"):o+1>=l||2>=l&&!aN.helpers.isMobile()?j.css("display","inline-block"):l>2&&!aN.helpers.isMobile()&&j.css("display","none")}}i.addClass("fr-active-item")}function aD(){for(var g='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',k=1;k<=aN.opts.tableInsertMaxSize;k++){for(var j=1;j<=aN.opts.tableInsertMaxSize;j++){var i="inline-block";k>2&&!aN.helpers.isMobile()&&(i="none");var h="fr-table-cell ";1==k&&1==j&&(h+=" hover"),g+='<span class="fr-command '+h+'" tabIndex="-1" data-cmd="tableInsert" data-row="'+k+'" data-col="'+j+'" data-param1="'+k+'" data-param2="'+j+'" style="display: '+i+';" role="button"><span></span><span class="fr-sr-only">'+k+" &times; "+j+"&nbsp;&nbsp;&nbsp;</span></span>"}g+='<div class="new-line"></div>'}return g+="</div></div>"}function aC(d){aN.events.$on(d,"focus","[tabIndex]",function(e){var f=b(e.currentTarget);aG(f)}),aN.events.on("popup.tab",function(x){var w=b(x.currentTarget);if(!aN.popups.isVisible("table.insert")||!w.is("span, a")){return !0}var v,u=x.which;if(b.FE.KEYCODE.ARROW_UP==u||b.FE.KEYCODE.ARROW_DOWN==u||b.FE.KEYCODE.ARROW_LEFT==u||b.FE.KEYCODE.ARROW_RIGHT==u){if(w.is("span.fr-table-cell")){var t=w.parent().find("span.fr-table-cell"),s=t.index(w),r=aN.opts.tableInsertMaxSize,q=s%r,p=Math.floor(s/r);b.FE.KEYCODE.ARROW_UP==u?p=Math.max(0,p-1):b.FE.KEYCODE.ARROW_DOWN==u?p=Math.min(aN.opts.tableInsertMaxSize-1,p+1):b.FE.KEYCODE.ARROW_LEFT==u?q=Math.max(0,q-1):b.FE.KEYCODE.ARROW_RIGHT==u&&(q=Math.min(aN.opts.tableInsertMaxSize-1,q+1));var o=p*r+q,h=b(t.get(o));aG(h),aN.events.disableBlur(),h.focus(),v=!1}}else{b.FE.KEYCODE.ENTER==u&&(aN.button.exec(w),v=!1)}return v===!1&&(x.preventDefault(),x.stopPropagation()),v},!0)}function aB(d){if(d){return aN.popups.onHide("table.edit",aI),!0}var i="";if(aN.opts.tableEditButtons.length>0){i='<div class="fr-buttons">'+aN.button.buildList(aN.opts.tableEditButtons)+"</div>";var h={buttons:i},f=aN.popups.create("table.edit",h);return aN.events.$on(aN.$wp,"scroll.table-edit",function(){aN.popups.isVisible("table.edit")&&aK()}),f}return !1}function aA(){var e="";aN.opts.tableColorsButtons.length>0&&(e='<div class="fr-buttons fr-table-colors-buttons">'+aN.button.buildList(aN.opts.tableColorsButtons)+"</div>");var i="";aN.opts.colorsHEXInput&&(i='<div class="fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'+aN.id+'"><div class="fr-input-line"><input maxlength="7" id="fr-table-colors-hex-layer-text-'+aN.id+'" type="text" placeholder="'+aN.language.translate("HEX Color")+'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="tableCellBackgroundCustomColor" tabIndex="2" role="button">'+aN.language.translate("OK")+"</button></div></div>");var h={buttons:e,colors:az(),custom_color:i},g=aN.popups.create("table.colors",h);return aN.events.$on(aN.$wp,"scroll.table-colors",function(){aN.popups.isVisible("table.colors")&&aJ()}),aw(g),g}function az(){for(var d='<div class="fr-table-colors">',e=0;e<aN.opts.tableColors.length;e++){0!==e&&e%aN.opts.tableColorsStep===0&&(d+="<br>"),d+="REMOVE"!=aN.opts.tableColors[e]?'<span class="fr-command" style="background: '+aN.opts.tableColors[e]+';" tabIndex="-1" role="button" data-cmd="tableCellBackgroundColor" data-param1="'+aN.opts.tableColors[e]+'"><span class="fr-sr-only">'+aN.language.translate("Color")+" "+aN.opts.tableColors[e]+"&nbsp;&nbsp;&nbsp;</span></span>":'<span class="fr-command" data-cmd="tableCellBackgroundColor" tabIndex="-1" role="button" data-param1="REMOVE" title="'+aN.language.translate("Clear Formatting")+'">'+aN.icon.create("tableColorRemove")+'<span class="fr-sr-only">'+aN.language.translate("Clear Formatting")+"</span></span>"}return d+="</div>"}function ax(){var d=aN.popups.get("table.colors"),e=d.find(".fr-table-colors-hex-layer input");e.length&&be(e.val())}function aw(d){aN.events.on("popup.tab",function(D){var C=b(D.currentTarget);if(!aN.popups.isVisible("table.colors")||!C.is("span")){return !0}var B=D.which,A=!0;if(b.FE.KEYCODE.TAB==B){var z=d.find(".fr-buttons");A=!aN.accessibility.focusToolbar(z,D.shiftKey?!0:!1)}else{if(b.FE.KEYCODE.ARROW_UP==B||b.FE.KEYCODE.ARROW_DOWN==B||b.FE.KEYCODE.ARROW_LEFT==B||b.FE.KEYCODE.ARROW_RIGHT==B){var y=C.parent().find("span.fr-command"),x=y.index(C),w=aN.opts.colorsStep,v=Math.floor(y.length/w),u=x%w,t=Math.floor(x/w),s=t*w+u,r=v*w;b.FE.KEYCODE.ARROW_UP==B?s=((s-w)%r+r)%r:b.FE.KEYCODE.ARROW_DOWN==B?s=(s+w)%r:b.FE.KEYCODE.ARROW_LEFT==B?s=((s-1)%r+r)%r:b.FE.KEYCODE.ARROW_RIGHT==B&&(s=(s+1)%r);var c=b(y.get(s));aN.events.disableBlur(),c.focus(),A=!1}else{b.FE.KEYCODE.ENTER==B&&(aN.button.exec(C),A=!1)}}return A===!1&&(D.preventDefault(),D.stopPropagation()),A},!0)}function av(){var f=aN.popups.get("table.colors"),i=aN.$el.find(".fr-selected-cell:first"),h=aN.helpers.RGBToHex(i.css("background-color")),g=f.find(".fr-table-colors-hex-layer input");f.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),f.find('span[data-param1="'+h+'"]').addClass("fr-selected-color fr-active-item"),g.val(h).trigger("change")}function au(p,o){var n,m,l='<table style="width: 100%;" class="fr-inserted-table"><tbody>',k=100/o;for(n=0;p>n;n++){for(l+="<tr>",m=0;o>m;m++){l+='<td style="width: '+k.toFixed(4)+'%;">',0===n&&0===m&&(l+=b.FE.MARKERS),l+="<br></td>"}l+="</tr>"}l+="</tbody></table>",aN.html.insert(l),aN.selection.restore();var j=aN.$el.find(".fr-inserted-table");j.removeClass("fr-inserted-table"),aN.events.trigger("table.inserted",[j.get(0)])}function at(){if(bl().length>0){var c=aO();aN.selection.setBefore(c.get(0))||aN.selection.setAfter(c.get(0)),aN.selection.restore(),aN.popups.hide("table.edit"),c.remove(),aN.toolbar.enable()}}function ar(){var d=aO();if(d.length>0&&0===d.find("th").length){var i,h="<thead><tr>",g=0;for(d.find("tr:first > td").each(function(){var c=b(this);g+=parseInt(c.attr("colspan"),10)||1}),i=0;g>i;i++){h+="<th><br></th>"}h+="</tr></thead>",d.prepend(h),aK()}}function aq(){var d=aO(),g=d.find("thead");if(g.length>0){if(0===d.find("tbody tr").length){at()}else{if(g.remove(),bl().length>0){aK()}else{aN.popups.hide("table.edit");var f=d.find("tbody tr:first td:first").get(0);f&&(aN.selection.setAtEnd(f),aN.selection.restore())}}}}function ap(t){var s=aO();if(s.length>0){if(aN.$el.find("th.fr-selected-cell").length>0&&"above"==t){return}var r,q,p,o=a7(),n=a0(o);q="above"==t?n.min_i:n.max_i;var m="<tr>";for(r=0;r<o[q].length;r++){if("below"==t&&q<o.length-1&&o[q][r]==o[q+1][r]||"above"==t&&q>0&&o[q][r]==o[q-1][r]){if(0===r||r>0&&o[q][r]!=o[q][r-1]){var d=b(o[q][r]);d.attr("rowspan",parseInt(d.attr("rowspan"),10)+1)}}else{m+="<td><br></td>"}}m+="</tr>",p=b(aN.$el.find("th.fr-selected-cell").length>0&&"below"==t?s.find("tbody").not(s.find("table tbody")):s.find("tr").not(s.find("table tr")).get(q)),"below"==t?"TBODY"==p.prop("tagName")?p.prepend(m):p.after(m):"above"==t&&(p.before(m),aN.popups.isVisible("table.edit")&&aK())}}function ao(){var x=aO();if(x.length>0){var w,v,u,t=a7(),s=a0(t);if(0===s.min_i&&s.max_i==t.length-1){at()}else{for(w=s.max_i;w>=s.min_i;w--){for(u=b(x.find("tr").not(x.find("table tr")).get(w)),v=0;v<t[w].length;v++){if(0===v||t[w][v]!=t[w][v-1]){var r=b(t[w][v]);if(parseInt(r.attr("rowspan"),10)>1){var q=parseInt(r.attr("rowspan"),10)-1;1==q?r.removeAttr("rowspan"):r.attr("rowspan",q)}if(w<t.length-1&&t[w][v]==t[w+1][v]&&(0===w||t[w][v]!=t[w-1][v])){for(var p=t[w][v],o=v;o>0&&t[w][o]==t[w][o-1];){o--}0===o?b(x.find("tr").not(x.find("table tr")).get(w+1)).prepend(p):b(t[w+1][o-1]).after(p)}}}var n=u.parent();u.remove(),0===n.find("tr").length&&n.remove(),t=a7(x)}bj(0,t.length-1,0,t[0].length-1,x),s.min_i>0?aN.selection.setAtEnd(t[s.min_i-1][0]):aN.selection.setAtEnd(t[0][0]),aN.selection.restore(),aN.popups.hide("table.edit")}}}function an(r){var q=aO();if(q.length>0){var p,o=a7(),n=a0(o);p="before"==r?n.min_j:n.max_j;var m,l=100/o[0].length,d=100/(o[0].length+1);q.find("th, td").each(function(){m=b(this),m.data("old-width",m.outerWidth()/q.outerWidth()*100)}),q.find("tr").not(q.find("table tr")).each(function(f){for(var t,s=b(this),k=0,j=0;p>k-1;){if(t=s.find("> th, > td").get(j),!t){t=null;break}t==o[f][k]?(k+=parseInt(b(t).attr("colspan"),10)||1,j++):(k+=parseInt(b(o[f][k]).attr("colspan"),10)||1,"after"==r&&(t=0===j?-1:s.find("> th, > td").get(j-1)))}var g=b(t);if("after"==r&&k-1>p||"before"==r&&p>0&&o[f][p]==o[f][p-1]){if(0===f||f>0&&o[f][p]!=o[f-1][p]){var c=parseInt(g.attr("colspan"),10)+1;g.attr("colspan",c),g.css("width",(g.data("old-width")*d/l+d).toFixed(4)+"%"),g.removeData("old-width")}}else{var u;u=s.find("th").length>0?'<th style="width: '+d.toFixed(4)+'%;"><br></th>':'<td style="width: '+d.toFixed(4)+'%;"><br></td>',-1==t?s.prepend(u):null==t?s.append(u):"before"==r?g.before(u):"after"==r&&g.after(u)}}),q.find("th, td").each(function(){m=b(this),m.data("old-width")&&(m.css("width",(m.data("old-width")*d/l).toFixed(4)+"%"),m.removeData("old-width"))}),aN.popups.isVisible("table.edit")&&aK()}}function am(){var v=aO();if(v.length>0){var u,t,s,r=a7(),q=a0(r);if(0===q.min_j&&q.max_j==r[0].length-1){at()}else{var p=100/r[0].length,o=100/(r[0].length-q.max_j+q.min_j-1);for(v.find("th, td").each(function(){s=b(this),s.hasClass("fr-selected-cell")||s.data("old-width",s.outerWidth()/v.outerWidth()*100)}),t=q.max_j;t>=q.min_j;t--){for(u=0;u<r.length;u++){if(0===u||r[u][t]!=r[u-1][t]){if(s=b(r[u][t]),(parseInt(s.attr("colspan"),10)||1)>1){var n=parseInt(s.attr("colspan"),10)-1;1==n?s.removeAttr("colspan"):s.attr("colspan",n),s.css("width",((s.data("old-width")-bw(t,r))*o/p).toFixed(4)+"%"),s.removeData("old-width")}else{var m=b(s.parent().get(0));s.remove(),0===m.find("> th, > td").length&&(0===m.prev().length||0===m.next().length||m.prev().find("> th[rowspan], > td[rowspan]").length<m.prev().find("> th, > td").length)&&m.remove()}}}}bj(0,r.length-1,0,r[0].length-1,v),q.min_j>0?aN.selection.setAtEnd(r[q.min_i][q.min_j-1]):aN.selection.setAtEnd(r[q.min_i][0]),aN.selection.restore(),aN.popups.hide("table.edit"),v.find("th, td").each(function(){s=b(this),s.data("old-width")&&(s.css("width",(s.data("old-width")*o/p).toFixed(4)+"%"),s.removeData("old-width"))})}}}function al(t,s,r){var q,p,o,n,m,l=0,k=a7(r);if(s=Math.min(s,k[0].length-1),s>t){for(p=t;s>=p;p++){if(!(p>t&&k[0][p]==k[0][p-1])&&(n=Math.min(parseInt(k[0][p].getAttribute("colspan"),10)||1,s-t+1),n>1&&k[0][p]==k[0][p+1])){for(l=n-1,q=1;q<k.length;q++){if(k[q][p]!=k[q-1][p]){for(o=p;p+n>o;o++){if(m=parseInt(k[q][o].getAttribute("colspan"),10)||1,m>1&&k[q][o]==k[q][o+1]){l=Math.min(l,m-1),o+=l}else{if(l=Math.max(0,l-1),!l){break}}}if(!l){break}}}}}}l&&bk(k,l,"colspan",0,k.length-1,t,s)}function ak(t,s,r){var q,p,o,n,m,l=0,k=a7(r);if(s=Math.min(s,k.length-1),s>t){for(q=t;s>=q;q++){if(!(q>t&&k[q][0]==k[q-1][0])&&(n=Math.min(parseInt(k[q][0].getAttribute("rowspan"),10)||1,s-t+1),n>1&&k[q][0]==k[q+1][0])){for(l=n-1,p=1;p<k[0].length;p++){if(k[q][p]!=k[q][p-1]){for(o=q;q+n>o;o++){if(m=parseInt(k[o][p].getAttribute("rowspan"),10)||1,m>1&&k[o][p]==k[o+1][p]){l=Math.min(l,m-1),o+=l}else{if(l=Math.max(0,l-1),!l){break}}}if(!l){break}}}}}}l&&bk(k,l,"rowspan",t,s,0,k[0].length-1)}function bk(t,s,r,q,p,o,n){var m,l,k;for(m=q;p>=m;m++){for(l=o;n>=l;l++){m>q&&t[m][l]==t[m-1][l]||l>o&&t[m][l]==t[m][l-1]||(k=parseInt(t[m][l].getAttribute(r),10)||1,k>1&&(k-s>1?t[m][l].setAttribute(r,k-s):t[m][l].removeAttribute(r)))}}}function bj(g,f,j,i,h){ak(g,f,h),al(j,i,h)}function bi(){if(bl().length>1&&(0===aN.$el.find("th.fr-selected-cell").length||0===aN.$el.find("td.fr-selected-cell").length)){a4();var z,y,x=a7(),w=a0(x),v=aN.$el.find(".fr-selected-cell"),u=b(v[0]),t=u.parent(),s=t.find(".fr-selected-cell"),r=u.closest("table"),q=u.html(),p=0;for(z=0;z<s.length;z++){p+=b(s[z]).outerWidth()}for(u.css("width",(p/r.outerWidth()*100).toFixed(4)+"%"),w.min_j<w.max_j&&u.attr("colspan",w.max_j-w.min_j+1),w.min_i<w.max_i&&u.attr("rowspan",w.max_i-w.min_i+1),z=1;z<v.length;z++){y=b(v[z]),"<br>"!=y.html()&&""!==y.html()&&(q+="<br>"+y.html()),y.remove()}u.html(q),aN.selection.setAtEnd(u.get(0)),aN.selection.restore(),aN.toolbar.enable(),ak(w.min_i,w.max_i,r);var d=r.find("tr:empty");for(z=d.length-1;z>=0;z--){b(d[z]).remove()}al(w.min_j,w.max_j,r),aK()}}function bh(){if(1==bl().length){var B=aN.$el.find(".fr-selected-cell"),A=B.parent(),z=B.closest("table"),y=parseInt(B.attr("rowspan"),10),x=a7(),w=a6(B.get(0),x),v=B.clone().html("<br>");if(y>1){var u=Math.ceil(y/2);u>1?B.attr("rowspan",u):B.removeAttr("rowspan"),y-u>1?v.attr("rowspan",y-u):v.removeAttr("rowspan");for(var t=w.row+u,s=0===w.col?w.col:w.col-1;s>=0&&(x[t][s]==x[t][s-1]||t>0&&x[t][s]==x[t-1][s]);){s--}-1==s?b(z.find("tr").not(z.find("table tr")).get(t)).prepend(v):b(x[t][s]).after(v)}else{var r,q=b("<tr>").append(v);for(r=0;r<x[0].length;r++){if(0===r||x[w.row][r]!=x[w.row][r-1]){var p=b(x[w.row][r]);p.is(B)||p.attr("rowspan",(parseInt(p.attr("rowspan"),10)||1)+1)}}A.after(q)}a3(),aN.popups.hide("table.edit")}}function bf(){if(1==bl().length){var z=aN.$el.find(".fr-selected-cell"),y=parseInt(z.attr("colspan"),10)||1,x=z.parent().outerWidth(),w=z.outerWidth(),v=z.clone().html("<br>"),u=a7(),t=a6(z.get(0),u);if(y>1){var s=Math.ceil(y/2);w=bq(t.col,t.col+s-1,u)/x*100;var r=bq(t.col+s,t.col+y-1,u)/x*100;s>1?z.attr("colspan",s):z.removeAttr("colspan"),y-s>1?v.attr("colspan",y-s):v.removeAttr("colspan"),z.css("width",w.toFixed(4)+"%"),v.css("width",r.toFixed(4)+"%")}else{var q;for(q=0;q<u.length;q++){if(0===q||u[q][t.col]!=u[q-1][t.col]){var p=b(u[q][t.col]);if(!p.is(z)){var o=(parseInt(p.attr("colspan"),10)||1)+1;p.attr("colspan",o)}}}w=w/x*100/2,z.css("width",w.toFixed(4)+"%"),v.css("width",w.toFixed(4)+"%")}z.after(v),a3(),aN.popups.hide("table.edit")}}function be(d){var e=aN.$el.find(".fr-selected-cell");"REMOVE"!=d?e.css("background-color",aN.helpers.HEXtoRGB(d)):e.css("background-color",""),aK()}function bd(c){aN.$el.find(".fr-selected-cell").css("vertical-align",c)}function bc(c){aN.$el.find(".fr-selected-cell").css("text-align",c)}function bb(g,f,j,i){if(f.length>0){if(!j){var h=Object.keys(i);h.splice(h.indexOf(g),1),f.removeClass(h.join(" "))}f.toggleClass(g)}}function a7(d){d=d||null;var e=[];return null==d&&bl().length>0&&(d=aO()),d&&d.find("tr").not(d.find("table tr")).each(function(c,i){var h=b(i),g=0;h.find("> th, > td").each(function(q,p){for(var o=b(p),n=parseInt(o.attr("colspan"),10)||1,m=parseInt(o.attr("rowspan"),10)||1,l=c;c+m>l;l++){for(var f=g;g+n>f;f++){e[l]||(e[l]=[]),e[l][f]?g++:e[l][f]=p}}g+=n})}),e}function a6(f,e){for(var h=0;h<e.length;h++){for(var g=0;g<e[h].length;g++){if(e[h][g]==f){return{row:h,col:g}}}}}function a5(g,f,j){for(var i=g+1,h=f+1;i<j.length;){if(j[i][f]!=j[g][f]){i--;break}i++}for(i==j.length&&i--;h<j[g].length;){if(j[g][h]!=j[g][f]){h--;break}h++}return h==j[g].length&&h--,{row:i,col:h}}function a4(){aN.el.querySelector(".fr-cell-fixed")&&aN.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),aN.el.querySelector(".fr-cell-handler")&&aN.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function a3(){var d=aN.$el.find(".fr-selected-cell");d.length>0&&d.each(function(){var c=b(this);c.removeClass("fr-selected-cell"),""===c.attr("class")&&c.removeAttr("class")}),a4()}function a2(){aN.events.disableBlur(),aN.selection.clear(),aN.$el.addClass("fr-no-selection"),aN.$el.blur(),aN.events.enableBlur()}function a0(s){var r=aN.$el.find(".fr-selected-cell");if(r.length>0){var q,p=s.length,o=0,n=s[0].length,m=0;for(q=0;q<r.length;q++){var l=a6(r[q],s),k=a5(l.row,l.col,s);p=Math.min(l.row,p),o=Math.max(k.row,o),n=Math.min(l.col,n),m=Math.max(k.col,m)}return{min_i:p,max_i:o,min_j:n,max_j:m}}return null}function aZ(A,z,y,x,w){var v,u,t,s,r=A,q=z,p=y,o=x;for(v=r;q>=v;v++){((parseInt(b(w[v][p]).attr("rowspan"),10)||1)>1||(parseInt(b(w[v][p]).attr("colspan"),10)||1)>1)&&(t=a6(w[v][p],w),s=a5(t.row,t.col,w),r=Math.min(t.row,r),q=Math.max(s.row,q),p=Math.min(t.col,p),o=Math.max(s.col,o)),((parseInt(b(w[v][o]).attr("rowspan"),10)||1)>1||(parseInt(b(w[v][o]).attr("colspan"),10)||1)>1)&&(t=a6(w[v][o],w),s=a5(t.row,t.col,w),r=Math.min(t.row,r),q=Math.max(s.row,q),p=Math.min(t.col,p),o=Math.max(s.col,o))}for(u=p;o>=u;u++){((parseInt(b(w[r][u]).attr("rowspan"),10)||1)>1||(parseInt(b(w[r][u]).attr("colspan"),10)||1)>1)&&(t=a6(w[r][u],w),s=a5(t.row,t.col,w),r=Math.min(t.row,r),q=Math.max(s.row,q),p=Math.min(t.col,p),o=Math.max(s.col,o)),((parseInt(b(w[q][u]).attr("rowspan"),10)||1)>1||(parseInt(b(w[q][u]).attr("colspan"),10)||1)>1)&&(t=a6(w[q][u],w),s=a5(t.row,t.col,w),r=Math.min(t.row,r),q=Math.max(s.row,q),p=Math.min(t.col,p),o=Math.max(s.col,o))}return r==A&&q==z&&p==y&&o==x?{min_i:A,max_i:z,min_j:y,max_j:x}:aZ(r,q,p,o,w)}function aY(s){var r=a0(s),q=b(s[r.min_i][r.min_j]),p=b(s[r.min_i][r.max_j]),o=b(s[r.max_i][r.min_j]),n=q.offset().left,m=p.offset().left+p.outerWidth(),l=q.offset().top,k=o.offset().top+o.outerHeight();return{left:n,right:m,top:l,bottom:k}}function aX(r,q){if(b(r).is(q)){a3(),aN.edit.on(),b(r).addClass("fr-selected-cell")}else{a2(),aN.edit.off();var p=a7(),o=a6(r,p),n=a6(q,p),m=aZ(Math.min(o.row,n.row),Math.max(o.row,n.row),Math.min(o.col,n.col),Math.max(o.col,n.col),p);a3(),r.classList.add("fr-cell-fixed"),q.classList.add("fr-cell-handler");for(var l=m.min_i;l<=m.max_i;l++){for(var k=m.min_j;k<=m.max_j;k++){b(p[l][k]).addClass("fr-selected-cell")}}}}function aW(h){var g=null,f=b(h.target);return"TD"==h.target.tagName||"TH"==h.target.tagName?g=h.target:f.closest("td").length>0?g=f.closest("td").get(0):f.closest("th").length>0&&(g=f.closest("th").get(0)),0===aN.$el.find(g).length?null:g}function aV(){a3(),aN.popups.hide("table.edit")}function aU(h){var g=aW(h);if("false"==b(g).parents("[contenteditable]:not(.fr-element):not(.fr-img-caption):not(body):first").attr("contenteditable")){return !0}if(bl().length>0&&!g&&aV(),!aN.edit.isDisabled()||aN.popups.isVisible("table.edit")){if(1!=h.which||1==h.which&&aN.helpers.isMac()&&h.ctrlKey){(3==h.which||1==h.which&&aN.helpers.isMac()&&h.ctrlKey)&&g&&aV()}else{if(bp=!0,g){bl().length>0&&!h.shiftKey&&aV(),h.stopPropagation(),aN.events.trigger("image.hideResizer"),aN.events.trigger("video.hideResizer"),bv=!0;var f=g.tagName.toLowerCase();h.shiftKey&&aN.$el.find(f+".fr-selected-cell").length>0?b(aN.$el.find(f+".fr-selected-cell").closest("table")).is(b(g).closest("table"))?aX(a9,g):a2():((aN.keys.ctrlKey(h)||h.shiftKey)&&(bl().length>1||0===b(g).find(aN.selection.element()).length&&!b(g).is(aN.selection.element()))&&a2(),a9=g,aX(a9,a9))}}}}function aT(h){if(bv||aN.$tb.is(h.target)||aN.$tb.is(b(h.target).closest(aN.$tb.get(0)))||(bl().length>0&&aN.toolbar.enable(),a3()),!(1!=h.which||1==h.which&&aN.helpers.isMac()&&h.ctrlKey)){if(bp=!1,bv){bv=!1;var g=aW(h);g||1!=bl().length?bl().length>0&&(aN.selection.isCollapsed()?aK():a3()):a3()}if(ah){ah=!1,bt.removeClass("fr-moving"),aN.$el.removeClass("fr-no-selection"),aN.edit.on();var d=parseFloat(bt.css("left"))+aN.opts.tableResizerOffset+aN.$wp.offset().left;aN.opts.iframe&&(d-=aN.$iframe.offset().left),bt.data("release-position",d),bt.removeData("max-left"),bt.removeData("max-right"),ac(h),ay()}}}function aS(f){if(bv===!0){var e=b(f.currentTarget);if(e.closest("table").is(aO())){if("TD"==f.currentTarget.tagName&&0===aN.$el.find("th.fr-selected-cell").length){return void aX(a9,f.currentTarget)}if("TH"==f.currentTarget.tagName&&0===aN.$el.find("td.fr-selected-cell").length){return void aX(a9,f.currentTarget)}}a2()}}function aR(j,i){for(var h=j;h&&"TABLE"!=h.tagName&&h.parentNode!=aN.el;){h=h.parentNode}if(h&&"TABLE"==h.tagName){var g=a7(b(h));"up"==i?br(a6(j,g),h,g):"down"==i&&aP(a6(j,g),h,g)}}function aQ(h,m,l,k){for(var j,i=m;i!=aN.el&&"TD"!=i.tagName&&"TH"!=i.tagName&&("up"==k?j=i.previousElementSibling:"down"==k&&(j=i.nextElementSibling),!j);){i=i.parentNode}"TD"==i.tagName||"TH"==i.tagName?aR(i,k):j&&("up"==k&&aN.selection.setAtEnd(j),"down"==k&&aN.selection.setAtStart(j))}function br(e,g,f){e.row>0?aN.selection.setAtEnd(f[e.row-1][e.col]):aQ(e,g,f,"up")}function aP(f,i,h){var g=parseInt(h[f.row][f.col].getAttribute("rowspan"),10)||1;f.row<h.length-g?aN.selection.setAtStart(h[f.row+g][f.col]):aQ(f,i,h,"down")}function bn(p){var o=p.which,n=aN.selection.blocks();if(n.length&&(n=n[0],"TD"==n.tagName||"TH"==n.tagName)){for(var m=n;m&&"TABLE"!=m.tagName&&m.parentNode!=aN.el;){m=m.parentNode}if(m&&"TABLE"==m.tagName&&(b.FE.KEYCODE.ARROW_LEFT==o||b.FE.KEYCODE.ARROW_UP==o||b.FE.KEYCODE.ARROW_RIGHT==o||b.FE.KEYCODE.ARROW_DOWN==o)&&(bl().length>0&&aV(),aN.browser.webkit&&(b.FE.KEYCODE.ARROW_UP==o||b.FE.KEYCODE.ARROW_DOWN==o))){var l=aN.selection.ranges(0).startContainer;if(l.nodeType==Node.TEXT_NODE&&(b.FE.KEYCODE.ARROW_UP==o&&l.previousSibling||b.FE.KEYCODE.ARROW_DOWN==o&&l.nextSibling)){return}p.preventDefault(),p.stopPropagation();var k=a7(b(m)),j=a6(n,k);return b.FE.KEYCODE.ARROW_UP==o?br(j,m,k):b.FE.KEYCODE.ARROW_DOWN==o&&aP(j,m,k),aN.selection.restore(),!1}}}function a1(){aN.shared.$table_resizer||(aN.shared.$table_resizer=b('<div class="fr-table-resizer"><div></div></div>')),bt=aN.shared.$table_resizer,aN.events.$on(bt,"mousedown",function(c){return aN.core.sameInstance(bt)?(bl().length>0&&aV(),1==c.which?(aN.selection.save(),ah=!0,bt.addClass("fr-moving"),a2(),aN.edit.off(),bt.find("div").css("opacity",1),!1):void 0):!0}),aN.events.$on(bt,"mousemove",function(c){return aN.core.sameInstance(bt)?void (ah&&(aN.opts.iframe&&(c.pageX-=aN.$iframe.offset().left),bg(c))):!0}),aN.events.on("shared.destroy",function(){bt.html("").removeData().remove(),bt=null},!0),aN.events.on("destroy",function(){aN.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),bt.hide().appendTo(b("body:first"))},!0)}function ay(){bt&&(bt.find("div").css("opacity",0),bt.css("top",0),bt.css("left",0),bt.css("height",0),bt.find("div").css("height",0),bt.hide())}function af(){bm&&bm.removeClass("fr-visible").css("left","-9999px")}function ab(N,M){var L=b(M),K=L.closest("table"),J=K.parent();if(M&&"TD"!=M.tagName&&"TH"!=M.tagName&&(L.closest("td").length>0?M=L.closest("td"):L.closest("th").length>0&&(M=L.closest("th"))),!M||"TD"!=M.tagName&&"TH"!=M.tagName){bt&&L.get(0)!=bt.get(0)&&L.parent().get(0)!=bt.get(0)&&aN.core.sameInstance(bt)&&ay()}else{if(L=b(M),0===aN.$el.find(L).length){return !1}var I=L.offset().left-1,H=I+L.outerWidth();if(Math.abs(N.pageX-I)<=aN.opts.tableResizerOffset||Math.abs(H-N.pageX)<=aN.opts.tableResizerOffset){var G,F,E,D,C,B=a7(K),A=a6(M,B),z=a5(A.row,A.col,B),y=K.offset().top,x=K.outerHeight()-1;"rtl"!=aN.opts.direction?N.pageX-I<=aN.opts.tableResizerOffset?(E=I,A.col>0?(D=I-bw(A.col-1,B)+aN.opts.tableResizingLimit,C=I+bw(A.col,B)-aN.opts.tableResizingLimit,G=A.col-1,F=A.col):(G=null,F=0,D=K.offset().left-1-parseInt(K.css("margin-left"),10),C=K.offset().left-1+K.width()-B[0].length*aN.opts.tableResizingLimit)):H-N.pageX<=aN.opts.tableResizerOffset&&(E=H,z.col<B[z.row].length&&B[z.row][z.col+1]?(D=H-bw(z.col,B)+aN.opts.tableResizingLimit,C=H+bw(z.col+1,B)-aN.opts.tableResizingLimit,G=z.col,F=z.col+1):(G=z.col,F=null,D=K.offset().left-1+B[0].length*aN.opts.tableResizingLimit,C=J.offset().left-1+J.width()+parseFloat(J.css("padding-left")))):H-N.pageX<=aN.opts.tableResizerOffset?(E=H,A.col>0?(D=H-bw(A.col,B)+aN.opts.tableResizingLimit,C=H+bw(A.col-1,B)-aN.opts.tableResizingLimit,G=A.col,F=A.col-1):(G=null,F=0,D=K.offset().left+B[0].length*aN.opts.tableResizingLimit,C=J.offset().left-1+J.width()+parseFloat(J.css("padding-left")))):N.pageX-I<=aN.opts.tableResizerOffset&&(E=I,z.col<B[z.row].length&&B[z.row][z.col+1]?(D=I-bw(z.col+1,B)+aN.opts.tableResizingLimit,C=I+bw(z.col,B)-aN.opts.tableResizingLimit,G=z.col+1,F=z.col):(G=z.col,F=null,D=J.offset().left+parseFloat(J.css("padding-left")),C=K.offset().left-1+K.width()-B[0].length*aN.opts.tableResizingLimit)),bt||a1(),bt.data("table",K),bt.data("first",G),bt.data("second",F),bt.data("instance",aN),aN.$wp.append(bt);var w=E-aN.win.pageXOffset-aN.opts.tableResizerOffset-aN.$wp.offset().left,v=y-aN.$wp.offset().top+aN.$wp.scrollTop();aN.opts.iframe&&(w+=aN.$iframe.offset().left,v+=aN.$iframe.offset().top,D+=aN.$iframe.offset().left,C+=aN.$iframe.offset().left),bt.data("max-left",D),bt.data("max-right",C),bt.data("origin",E-aN.win.pageXOffset),bt.css("top",v),bt.css("left",w),bt.css("height",x),bt.find("div").css("height",x),bt.css("padding-left",aN.opts.tableResizerOffset),bt.css("padding-right",aN.opts.tableResizerOffset),bt.show()}else{aN.core.sameInstance(bt)&&ay()}}}function bu(r,q){if(aN.$box.find(".fr-line-breaker").is(":visible")){return !1}bm||ad(),aN.$box.append(bm),bm.data("instance",aN);var p=b(q),o=p.find("tr:first"),n=r.pageX,m=0,l=0;aN.opts.iframe&&(m+=aN.$iframe.offset().left-aN.helpers.scrollLeft(),l+=aN.$iframe.offset().top-aN.helpers.scrollTop());var k;o.find("th, td").each(function(){var d=b(this);return d.offset().left<=n&&n<d.offset().left+d.outerWidth()/2?(k=parseInt(bm.find("a").css("width"),10),bm.css("top",l+d.offset().top-aN.$box.offset().top-aN.win.pageYOffset-k-5),bm.css("left",m+d.offset().left-aN.$box.offset().left-aN.win.pageXOffset-k/2),bm.data("selected-cell",d),bm.data("position","before"),bm.addClass("fr-visible"),!1):d.offset().left+d.outerWidth()/2<=n&&n<d.offset().left+d.outerWidth()?(k=parseInt(bm.find("a").css("width"),10),bm.css("top",l+d.offset().top-aN.$box.offset().top-aN.win.pageYOffset-k-5),bm.css("left",m+d.offset().left-aN.$box.offset().left+d.outerWidth()-aN.win.pageXOffset-k/2),bm.data("selected-cell",d),bm.data("position","after"),bm.addClass("fr-visible"),!1):void 0})}function bo(p,o){if(aN.$box.find(".fr-line-breaker").is(":visible")){return !1}bm||ad(),aN.$box.append(bm),bm.data("instance",aN);var n=b(o),m=p.pageY,l=0,k=0;aN.opts.iframe&&(l+=aN.$iframe.offset().left-aN.helpers.scrollLeft(),k+=aN.$iframe.offset().top-aN.helpers.scrollTop());var j;n.find("tr").each(function(){var d=b(this);return d.offset().top<=m&&m<d.offset().top+d.outerHeight()/2?(j=parseInt(bm.find("a").css("width"),10),bm.css("top",k+d.offset().top-aN.$box.offset().top-aN.win.pageYOffset-j/2),bm.css("left",l+d.offset().left-aN.$box.offset().left-aN.win.pageXOffset-j-5),bm.data("selected-cell",d.find("td:first")),bm.data("position","above"),bm.addClass("fr-visible"),!1):d.offset().top+d.outerHeight()/2<=m&&m<d.offset().top+d.outerHeight()?(j=parseInt(bm.find("a").css("width"),10),bm.css("top",k+d.offset().top-aN.$box.offset().top+d.outerHeight()-aN.win.pageYOffset-j/2),bm.css("left",l+d.offset().left-aN.$box.offset().left-aN.win.pageXOffset-j-5),bm.data("selected-cell",d.find("td:first")),bm.data("position","below"),bm.addClass("fr-visible"),!1):void 0})}function a8(l,k){if(0===bl().length){var j,i,h;if(k&&("HTML"==k.tagName||"BODY"==k.tagName||aN.node.isElement(k))){for(j=1;j<=aN.opts.tableInsertHelperOffset;j++){if(i=aN.doc.elementFromPoint(l.pageX-aN.win.pageXOffset,l.pageY-aN.win.pageYOffset+j),b(i).hasClass("fr-tooltip")){return !0}if(i&&("TH"==i.tagName||"TD"==i.tagName||"TABLE"==i.tagName)&&(b(i).parents(".fr-wrapper").length||aN.opts.iframe)){return bu(l,b(i).closest("table")),!0}if(h=aN.doc.elementFromPoint(l.pageX-aN.win.pageXOffset+j,l.pageY-aN.win.pageYOffset),b(h).hasClass("fr-tooltip")){return !0}if(h&&("TH"==h.tagName||"TD"==h.tagName||"TABLE"==h.tagName)&&(b(h).parents(".fr-wrapper").length||aN.opts.iframe)){return bo(l,b(h).closest("table")),!0}}}aN.core.sameInstance(bm)&&af()}}function aE(d){aF=null;var e=aN.doc.elementFromPoint(d.pageX-aN.win.pageXOffset,d.pageY-aN.win.pageYOffset);aN.opts.tableResizer&&(!aN.popups.areVisible()||aN.popups.areVisible()&&aN.popups.isVisible("table.edit"))&&ab(d,e),!aN.opts.tableInsertHelper||aN.popups.areVisible()||aN.$tb.hasClass("fr-inline")&&aN.$tb.is(":visible")||a8(d,e)}function ag(){if(ah){var d=bt.data("table"),e=d.offset().top-aN.win.pageYOffset;aN.opts.iframe&&(e+=aN.$iframe.offset().top-aN.helpers.scrollTop()),bt.css("top",e)}}function ac(){var P=bt.data("origin"),O=bt.data("release-position");if(P!==O){var N=bt.data("first"),M=bt.data("second"),L=bt.data("table"),K=L.outerWidth();if(aN.undo.canDo()||aN.undo.saveStep(),null!==N&&null!==M){var J,I,H,G=a7(L),F=[],E=[],D=[],C=[];for(J=0;J<G.length;J++){I=b(G[J][N]),H=b(G[J][M]),F[J]=I.outerWidth(),D[J]=H.outerWidth(),E[J]=F[J]/K*100,C[J]=D[J]/K*100}for(J=0;J<G.length;J++){I=b(G[J][N]),H=b(G[J][M]);var B=(E[J]*(F[J]+O-P)/F[J]).toFixed(4);I.css("width",B+"%"),H.css("width",(E[J]+C[J]-B).toFixed(4)+"%")}}else{var A,z=L.parent(),y=K/z.width()*100,x=(parseInt(L.css("margin-left"),10)||0)/z.width()*100,w=(parseInt(L.css("margin-right"),10)||0)/z.width()*100;"rtl"==aN.opts.direction&&0===M||"rtl"!=aN.opts.direction&&0!==M?(A=(K+O-P)/K*y,L.css("margin-right","calc(100% - "+Math.round(A).toFixed(4)+"% - "+Math.round(x).toFixed(4)+"%)")):("rtl"==aN.opts.direction&&0!==M||"rtl"!=aN.opts.direction&&0===M)&&(A=(K-O+P)/K*y,L.css("margin-left","calc(100% - "+Math.round(A).toFixed(4)+"% - "+Math.round(w).toFixed(4)+"%)")),L.css("width",Math.round(A).toFixed(4)+"%")}aN.selection.restore(),aN.undo.saveStep()}bt.removeData("origin"),bt.removeData("release-position"),bt.removeData("first"),bt.removeData("second"),bt.removeData("table")}function bw(f,i){var h,g=b(i[0][f]).outerWidth();for(h=1;h<i.length;h++){g=Math.min(g,b(i[h][f]).outerWidth())}return g}function bq(g,f,j){var i,h=0;for(i=g;f>=i;i++){h+=bw(i,j)}return h}function bg(f){if(bl().length>1&&bp&&a2(),bp===!1&&bv===!1&&ah===!1){aF&&clearTimeout(aF),(!aN.edit.isDisabled()||aN.popups.isVisible("table.edit"))&&(aF=setTimeout(aE,30,f))}else{if(ah){var i=f.pageX-aN.win.pageXOffset;aN.opts.iframe&&(i+=aN.$iframe.offset().left);var h=bt.data("max-left"),g=bt.data("max-right");i>=h&&g>=i?bt.css("left",i-aN.opts.tableResizerOffset-aN.$wp.offset().left):h>i&&parseFloat(bt.css("left"),10)>h-aN.opts.tableResizerOffset?bt.css("left",h-aN.opts.tableResizerOffset-aN.$wp.offset().left):i>g&&parseFloat(bt.css("left"),10)<g-aN.opts.tableResizerOffset&&bt.css("left",g-aN.opts.tableResizerOffset-aN.$wp.offset().left)}else{bp&&af()}}}function aL(d){aN.node.isEmpty(d.get(0))?d.prepend(b.FE.MARKERS):d.prepend(b.FE.START_MARKER).append(b.FE.END_MARKER)}function ai(j){var i=j.which;if(i==b.FE.KEYCODE.TAB){var h;if(bl().length>0){h=aN.$el.find(".fr-selected-cell:last")}else{var g=aN.selection.element();"TD"==g.tagName||"TH"==g.tagName?h=b(g):g!=aN.el&&(b(g).parentsUntil(aN.$el,"td").length>0?h=b(g).parents("td:first"):b(g).parentsUntil(aN.$el,"th").length>0&&(h=b(g).parents("th:first")))}if(h){return j.preventDefault(),b(aN.selection.element()).parents("ol, ul").length>0&&(b(aN.selection.element()).parents("li").prev().length>0||b(aN.selection.element()).is("li")&&b(aN.selection.element()).prev().length>0)?!0:(aV(),j.shiftKey?h.prev().length>0?aL(h.prev()):h.closest("tr").length>0&&h.closest("tr").prev().length>0?aL(h.closest("tr").prev().find("td:last")):h.closest("tbody").length>0&&h.closest("table").find("thead tr").length>0&&aL(h.closest("table").find("thead tr th:last")):h.next().length>0?aL(h.next()):h.closest("tr").length>0&&h.closest("tr").next().length>0?aL(h.closest("tr").next().find("td:first")):h.closest("thead").length>0&&h.closest("table").find("tbody tr").length>0?aL(h.closest("table").find("tbody tr td:first")):(h.addClass("fr-selected-cell"),ap("below"),a3(),aL(h.closest("tr").next().find("td:first"))),aN.selection.restore(),!1)}}}function ad(){aN.shared.$ti_helper||(aN.shared.$ti_helper=b('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+aN.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),aN.events.bindClick(aN.shared.$ti_helper,"a",function(){var e=bm.data("selected-cell"),g=bm.data("position"),f=bm.data("instance")||aN;"before"==g?(aN.undo.saveStep(),e.addClass("fr-selected-cell"),f.table.insertColumn(g),e.removeClass("fr-selected-cell"),aN.undo.saveStep()):"after"==g?(aN.undo.saveStep(),e.addClass("fr-selected-cell"),f.table.insertColumn(g),e.removeClass("fr-selected-cell"),aN.undo.saveStep()):"above"==g?(aN.undo.saveStep(),e.addClass("fr-selected-cell"),f.table.insertRow(g),e.removeClass("fr-selected-cell"),aN.undo.saveStep()):"below"==g&&(aN.undo.saveStep(),e.addClass("fr-selected-cell"),f.table.insertRow(g),e.removeClass("fr-selected-cell"),aN.undo.saveStep()),af()}),aN.events.on("shared.destroy",function(){aN.shared.$ti_helper.html("").removeData().remove(),aN.shared.$ti_helper=null},!0),aN.events.$on(aN.shared.$ti_helper,"mousemove",function(c){c.stopPropagation()},!0),aN.events.$on(b(aN.o_win),"scroll",function(){af()},!0),aN.events.$on(aN.$wp,"scroll",function(){af()},!0)),bm=aN.shared.$ti_helper,aN.events.on("destroy",function(){bm=null}),aN.tooltip.bind(aN.$box,".fr-insert-helper > a.fr-floating-btn")}function bx(){a9=null,clearTimeout(aF)}function bs(){bl().length>0?aK():(aN.popups.hide("table.insert"),aN.toolbar.showInline())}function bl(){return aN.el.querySelectorAll(".fr-selected-cell")}function aO(){var f=bl();if(f.length){for(var e=f[0];e&&"TABLE"!=e.tagName&&e.parentNode!=aN.el;){e=e.parentNode}return b(e&&"TABLE"==e.tagName?e:[])}return b([])}function aj(h){if(h.altKey&&h.which==b.FE.KEYCODE.SPACE){var g,d=aN.selection.element();if("TD"==d.tagName||"TH"==d.tagName?g=d:b(d).closest("td").length>0?g=b(d).closest("td").get(0):b(d).closest("th").length>0&&(g=b(d).closest("th").get(0)),g){return h.preventDefault(),aX(g,g),aK(),!1}}}function ae(p){var o=bl();if(o.length>0){var n,m,l=a7(),k=p.which;1==o.length?(n=o[0],m=n):(n=aN.el.querySelector(".fr-cell-fixed"),m=aN.el.querySelector(".fr-cell-handler"));var j=a6(m,l);if(b.FE.KEYCODE.ARROW_RIGHT==k){if(j.col<l[0].length-1){return aX(n,l[j.row][j.col+1]),!1}}else{if(b.FE.KEYCODE.ARROW_DOWN==k){if(j.row<l.length-1){return aX(n,l[j.row+1][j.col]),!1}}else{if(b.FE.KEYCODE.ARROW_LEFT==k){if(j.col>0){return aX(n,l[j.row][j.col-1]),!1}}else{if(b.FE.KEYCODE.ARROW_UP==k&&j.row>0){return aX(n,l[j.row-1][j.col]),!1}}}}}}function a(){if(!aN.$wp){return !1}if(!aN.helpers.isMobile()){bp=!1,bv=!1,ah=!1,aN.events.$on(aN.$el,"mousedown",aU),aN.popups.onShow("image.edit",function(){a3(),bp=!1,bv=!1}),aN.popups.onShow("link.edit",function(){a3(),bp=!1,bv=!1}),aN.events.on("commands.mousedown",function(c){c.parents(".fr-toolbar").length>0&&a3()}),aN.events.$on(aN.$el,"mouseenter","th, td",aS),aN.events.$on(aN.$win,"mouseup",aT),aN.opts.iframe&&aN.events.$on(b(aN.o_win),"mouseup",aT),aN.events.$on(aN.$win,"mousemove",bg),aN.events.$on(b(aN.o_win),"scroll",ag),aN.events.on("contentChanged",function(){bl().length>0&&(aK(),aN.$el.find("img").on("load.selected-cells",function(){b(this).off("load.selected-cells"),bl().length>0&&aK()}))}),aN.events.$on(b(aN.o_win),"resize",function(){a3()}),aN.events.on("toolbar.esc",function(){return bl().length>0?(aN.events.disableBlur(),aN.events.focus(),!1):void 0},!0),aN.events.$on(b(aN.o_win),"keydown",function(){bp&&bv&&(bp=!1,bv=!1,aN.$el.removeClass("fr-no-selection"),aN.edit.on(),aN.selection.setAtEnd(aN.$el.find(".fr-selected-cell:last").get(0)),aN.selection.restore(),a3())}),aN.events.$on(aN.$el,"keydown",function(c){c.shiftKey?ae(c)===!1&&setTimeout(function(){aK()},0):bn(c)}),aN.events.on("keydown",function(h){if(ai(h)===!1){return !1}var g=bl();if(g.length>0){if(g.length>0&&aN.keys.ctrlKey(h)&&h.which==b.FE.KEYCODE.A){return a3(),aN.popups.isVisible("table.edit")&&aN.popups.hide("table.edit"),g=[],!0}if(h.which==b.FE.KEYCODE.ESC&&aN.popups.isVisible("table.edit")){return a3(),aN.popups.hide("table.edit"),h.preventDefault(),h.stopPropagation(),h.stopImmediatePropagation(),g=[],!1}if(g.length>1&&(h.which==b.FE.KEYCODE.BACKSPACE||h.which==b.FE.KEYCODE.DELETE)){aN.undo.saveStep();for(var f=0;f<g.length;f++){b(g[f]).html("<br>"),f==g.length-1&&b(g[f]).prepend(b.FE.MARKERS)}return aN.selection.restore(),aN.undo.saveStep(),g=[],!1}if(g.length>1&&h.which!=b.FE.KEYCODE.F10&&!aN.keys.isBrowserAction(h)){return h.preventDefault(),g=[],!1}}else{if(g=[],aj(h)===!1){return !1}}},!0);var d=[];aN.events.on("html.beforeGet",function(){d=bl();for(var c=0;c<d.length;c++){d[c].className=(d[c].className||"").replace(/fr-selected-cell/g,"")}}),aN.events.on("html.afterGet",function(){for(var c=0;c<d.length;c++){d[c].className=(d[c].className?d[c].className.trim()+" ":"")+"fr-selected-cell"}d=[]}),aH(!0),aB(!0)}aN.events.on("destroy",bx)}var bt,bm,bv,bp,a9,aF,ah;return{_init:a,insert:au,remove:at,insertRow:ap,deleteRow:ao,insertColumn:an,deleteColumn:am,mergeCells:bi,splitCellVertically:bf,splitCellHorizontally:bh,addHeader:ar,removeHeader:aq,setBackground:be,showInsertPopup:aM,showEditPopup:aK,showColorsPopup:aJ,back:bs,verticalAlign:bd,horizontalAlign:bc,applyStyle:bb,selectedTable:aO,selectedCells:bl,customColor:ax}},b.FE.DefineIcon("insertTable",{NAME:"table"}),b.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),b.FE.RegisterCommand("tableInsert",{callback:function(e,d,f){this.table.insert(d,f),this.popups.hide("table.insert")}}),b.FE.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading"}),b.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){var c=this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]');c.hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(d){var c=this.table.selectedTable();c.length>0&&(0===c.find("th").length?d.removeClass("fr-active").attr("aria-pressed",!1):d.addClass("fr-active").attr("aria-pressed",!0))}}),b.FE.DefineIcon("tableRows",{NAME:"bars"}),b.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var a='<ul class="fr-dropdown-list" role="presentation">',f=b.FE.COMMANDS.tableRows.options;for(var e in f){f.hasOwnProperty(e)&&(a+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+e+'" title="'+this.language.translate(f[e])+'">'+this.language.translate(f[e])+"</a></li>")}return a+="</ul>"},callback:function(d,c){"above"==c||"below"==c?this.table.insertRow(c):this.table.deleteRow()}}),b.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),b.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var a='<ul class="fr-dropdown-list" role="presentation">',f=b.FE.COMMANDS.tableColumns.options;for(var e in f){f.hasOwnProperty(e)&&(a+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'+e+'" title="'+this.language.translate(f[e])+'">'+this.language.translate(f[e])+"</a></li>")}return a+="</ul>"},callback:function(d,c){"before"==c||"after"==c?this.table.insertColumn(c):this.table.deleteColumn()}}),b.FE.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square"}),b.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var a='<ul class="fr-dropdown-list" role="presentation">',f=b.FE.COMMANDS.tableCells.options;for(var e in f){f.hasOwnProperty(e)&&(a+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'+e+'" title="'+this.language.translate(f[e])+'">'+this.language.translate(f[e])+"</a></li>")}return a+="</ul>"},callback:function(d,c){"merge"==c?this.table.mergeCells():"vertical-split"==c?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(d,c){this.$el.find(".fr-selected-cell").length>1?(c.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),c.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),c.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(c.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),c.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),c.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),b.FE.DefineIcon("tableRemove",{NAME:"trash"}),b.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),b.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),b.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',d=this.opts.tableStyles;for(var f in d){d.hasOwnProperty(f)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'+f+'" title="'+this.language.translate(d[f])+'">'+this.language.translate(d[f])+"</a></li>")}return e+="</ul>"},callback:function(d,c){this.table.applyStyle(c,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(a,f){var e=this.$el.find(".fr-selected-cell").closest("table");e&&f.find(".fr-command").each(function(){var d=b(this).data("param1"),g=e.hasClass(d);b(this).toggleClass("fr-active",g).attr("aria-selected",g)})}}),b.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),b.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,popup:!0,callback:function(){this.table.showColorsPopup()}}),b.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(d,c){this.table.setBackground(c)}}),b.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),b.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(c){0!==this.table.selectedCells().length||this.opts.toolbarInline?(c.removeClass("fr-hidden"),c.next(".fr-separator").removeClass("fr-hidden")):(c.addClass("fr-hidden"),c.next(".fr-separator").addClass("fr-hidden"))}}),b.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v"}),b.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var a='<ul class="fr-dropdown-list" role="presentation">',f=b.FE.COMMANDS.tableCellVerticalAlign.options;for(var e in f){f.hasOwnProperty(e)&&(a+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'+e.toLowerCase()+'" title="'+this.language.translate(f[e])+'">'+this.language.translate(e)+"</a></li>")}return a+="</ul>"},callback:function(d,c){this.table.verticalAlign(c)},refreshOnShow:function(d,c){c.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),b.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),b.FE.DefineIcon("align-left",{NAME:"align-left"}),b.FE.DefineIcon("align-right",{NAME:"align-right"}),b.FE.DefineIcon("align-center",{NAME:"align-center"}),b.FE.DefineIcon("align-justify",{NAME:"align-justify"}),b.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var a='<ul class="fr-dropdown-list" role="presentation">',f=b.FE.COMMANDS.tableCellHorizontalAlign.options;for(var e in f){f.hasOwnProperty(e)&&(a+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'+e+'" title="'+this.language.translate(f[e])+'">'+this.icon.create("align-"+e)+'<span class="fr-sr-only">'+this.language.translate(f[e])+"</span></a></li>")}return a+="</ul>"},callback:function(d,c){this.table.horizontalAlign(c)},refresh:function(a){var d=this.table.selectedCells();d.length&&a.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(b(d[0]))))},refreshOnShow:function(d,c){c.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active").attr("aria-selected",!0)}}),b.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),b.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',d=this.opts.tableCellStyles;for(var f in d){d.hasOwnProperty(f)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'+f+'" title="'+this.language.translate(d[f])+'">'+this.language.translate(d[f])+"</a></li>")}return e+="</ul>"},callback:function(d,c){this.table.applyStyle(c,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(a,f){var e=this.$el.find(".fr-selected-cell:first");e&&f.find(".fr-command").each(function(){var d=b(this).data("param1"),g=e.hasClass(d);b(this).toggleClass("fr-active",g).attr("aria-selected",g)})}}),b.FE.RegisterCommand("tableCellBackgroundCustomColor",{title:"OK",undo:!0,callback:function(){this.table.customColor()}}),b.FE.DefineIcon("tableColorRemove",{NAME:"eraser"})});