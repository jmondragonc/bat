/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.DEFAULTS,{saveInterval:10000,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),b.FE.PLUGINS.save=function(z){function y(d,e){z.events.trigger("save.error",[{code:d,message:a[d]},e])}function x(B){"undefined"==typeof B&&(B=z.html.get());var A=B,n=z.events.trigger("save.before",[B]);if(n===!1){return !1}if("string"==typeof n&&(B=n),z.opts.saveURL){var m={};for(var l in z.opts.saveParams){if(z.opts.saveParams.hasOwnProperty(l)){var j=z.opts.saveParams[l];"function"==typeof j?m[l]=j.call(this):m[l]=j}}var c={};c[z.opts.saveParam]=B,b.ajax({type:z.opts.saveMethod,url:z.opts.saveURL,data:b.extend(c,m),crossDomain:z.opts.requestWithCORS,xhrFields:{withCredentials:z.opts.requestWithCredentials},headers:z.opts.requestHeaders}).done(function(d){r=A,z.events.trigger("save.after",[d])}).fail(function(d){y(o,d.response||d.responseText)})}else{y(p)}}function w(){clearTimeout(s),s=setTimeout(function(){var c=z.html.get();(r!=c||q)&&(r=c,q=!1,x(c))},z.opts.saveInterval)}function v(){w(),q=!1}function u(){q=!0}function t(){z.opts.saveInterval&&(r=z.html.get(),z.events.on("contentChanged",w),z.events.on("keydown destroy",function(){clearTimeout(s)}))}var s=null,r=null,q=!1,p=1,o=2,a={};return a[p]="Missing saveURL option.",a[o]="Something went wrong during save.",{_init:t,save:x,reset:v,force:u}},b.FE.DefineIcon("save",{NAME:"floppy-o"}),b.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"})});