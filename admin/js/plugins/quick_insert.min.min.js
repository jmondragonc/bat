/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]}),b.FE.QUICK_INSERT_BUTTONS={},b.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"}),b.FE.RegisterQuickInsertButton=function(a,d){b.FE.QUICK_INSERT_BUTTONS[a]=b.extend({undo:!0},d)},b.FE.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var a=this;a.shared.$qi_image_input||(a.shared.$qi_image_input=b('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),b("body:first").append(a.shared.$qi_image_input),a.events.$on(a.shared.$qi_image_input,"change",function(){var c=b(this).data("inst");this.files&&(c.quickInsert.hide(),c.image.upload(this.files)),b(this).val("")},!0)),a.$qi_image_input=a.shared.$qi_image_input,a.helpers.isMobile()&&a.selection.save(),a.$qi_image_input.data("inst",a).trigger("click")}}),b.FE.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var c=prompt(this.language.translate("Paste the URL of the video you want to insert."));c&&this.video.insertByURL(c)}}),b.FE.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var c=prompt(this.language.translate("Paste the URL of any web content you want to insert."));c&&this.embedly.add(c)}}),b.FE.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),b.FE.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),b.FE.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),b.FE.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),b.FE.PLUGINS.quickInsert=function(v){function u(j){var i,h,g;i=j.offset().top-v.$box.offset().top,h=0-m.outerWidth(),v.opts.enter!=b.FE.ENTER_BR?g=(m.outerHeight()-j.outerHeight())/2:(b("<span>"+b.FE.INVISIBLE_SPACE+"</span>").insertAfter(j),g=(m.outerHeight()-j.next().outerHeight())/2,j.next().remove()),v.opts.iframe&&(i+=v.$iframe.offset().top-v.helpers.scrollTop()),m.hasClass("fr-on")&&i>=0&&a.css("top",i-g),i>=0&&i-g<=v.$box.outerHeight()-j.outerHeight()?(m.hasClass("fr-hidden")&&(m.hasClass("fr-on")&&q(),m.removeClass("fr-hidden")),m.css("top",i-g)):m.hasClass("fr-visible")&&(m.addClass("fr-hidden"),p()),m.css("left",h)}function t(c){m||o(),m.hasClass("fr-on")&&p(),v.$box.append(m),u(c),m.data("tag",c),m.addClass("fr-visible")}function s(){if(v.core.hasFocus()){var j=v.selection.element();if(v.opts.enter==b.FE.ENTER_BR||v.node.isBlock(j)||(j=v.node.blockParent(j)),v.opts.enter==b.FE.ENTER_BR&&!v.node.isBlock(j)){var h=v.node.deepestParent(j);h&&(j=h)}var f=function(){return v.opts.enter!=b.FE.ENTER_BR&&v.node.isEmpty(j)&&v.node.isElement(j.parentNode)&&v.opts.quickInsertTags.indexOf(j.tagName.toLowerCase())>=0},d=function(){return v.opts.enter==b.FE.ENTER_BR&&("BR"==j.tagName&&(!j.previousSibling||"BR"==j.previousSibling.tagName||v.node.isBlock(j.previousSibling))||v.node.isEmpty(j)&&(!j.previousSibling||"BR"==j.previousSibling.tagName||v.node.isBlock(j.previousSibling))&&(!j.nextSibling||"BR"==j.nextSibling.tagName||v.node.isBlock(j.nextSibling)))};j&&(f()||d())?m&&m.data("tag").is(b(j))&&m.hasClass("fr-on")?p():v.selection.isCollapsed()&&t(b(j)):r()}}function r(){m&&(v.html.checkIfEmpty(),m.hasClass("fr-on")&&p(),m.removeClass("fr-visible fr-on"),m.css("left",-9999).css("top",-9999))}function q(x){if(x&&x.preventDefault(),m.hasClass("fr-on")&&!m.hasClass("fr-hidden")){p()}else{if(!v.shared.$qi_helper){for(var w=v.opts.quickInsertButtons,l='<div class="fr-qi-helper">',k=0,j=0;j<w.length;j++){var h=b.FE.QUICK_INSERT_BUTTONS[w[j]];h&&(!h.requiredPlugin||b.FE.PLUGINS[h.requiredPlugin]&&v.opts.pluginsEnabled.indexOf(h.requiredPlugin)>=0)&&(l+='<a class="fr-btn fr-floating-btn" role="button" title="'+v.language.translate(h.title)+'" tabIndex="-1" data-cmd="'+w[j]+'" style="transition-delay: '+0.025*k+++'s;">'+v.icon.create(h.icon)+"</a>")}l+="</div>",v.shared.$qi_helper=b(l),v.tooltip.bind(v.shared.$qi_helper,"> a.fr-btn")}a=v.shared.$qi_helper,a.appendTo(v.$box),setTimeout(function(){a.css("top",parseFloat(m.css("top"))),a.css("left",parseFloat(m.css("left"))+m.outerWidth()),a.find("a").addClass("fr-size-1"),m.addClass("fr-on")},10)}}function p(){var c=v.$box.find(".fr-qi-helper");c.length&&(c.find("a").removeClass("fr-size-1"),c.css("left",-9999),m.hasClass("fr-hidden")||m.removeClass("fr-on"))}function o(){v.shared.$quick_insert||(v.shared.$quick_insert=b('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+v.language.translate("Quick Insert")+'">'+v.icon.create("quickInsert")+"</a></div>")),m=v.shared.$quick_insert,v.tooltip.bind(v.$box,".fr-quick-insert > a.fr-floating-btn"),v.events.on("destroy",function(){m.removeClass("fr-on").appendTo(b("body:first")).css("left",-9999).css("top",-9999),a&&(p(),a.appendTo(b("body:first")))},!0),v.events.on("shared.destroy",function(){m.html("").removeData().remove(),m=null,a&&(a.html("").removeData().remove(),a=null)},!0),v.events.on("commands.before",r),v.events.on("commands.after",function(){v.popups.areVisible()||s()}),v.events.bindClick(v.$box,".fr-quick-insert > a",q),v.events.bindClick(v.$box,".fr-qi-helper > a.fr-btn",function(f){var e=b(f.currentTarget).data("cmd");b.FE.QUICK_INSERT_BUTTONS[e].callback.apply(v,[f.currentTarget]),b.FE.QUICK_INSERT_BUTTONS[e].undo&&v.undo.saveStep(),v.quickInsert.hide()}),v.events.$on(v.$wp,"scroll",function(){m.hasClass("fr-visible")&&u(m.data("tag"))})}function n(){return v.$wp?(v.opts.iframe&&v.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),v.popups.onShow("image.edit",r),v.events.on("mouseup",s),v.helpers.isMobile()&&v.events.$on(b(v.o_doc),"selectionchange",s),v.events.on("blur",r),v.events.on("keyup",s),void v.events.on("keydown",function(){setTimeout(function(){s()},0)})):!1}var m,a;return{_init:n,hide:r}}});