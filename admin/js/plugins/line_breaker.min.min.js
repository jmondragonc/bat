/*!
 * froala_editor v2.7.6 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),b.FE.PLUGINS.lineBreaker=function(L){function K(R,Q){var P,O,N,M,t,s,r,q;if(null==R){M=Q.parent(),t=M.offset().top,r=Q.offset().top,P=r-Math.min((r-t)/2,L.opts.lineBreakerOffset),N=M.outerWidth(),O=M.offset().left}else{if(null==Q){M=R.parent(),s=M.offset().top+M.outerHeight(),q=R.offset().top+R.outerHeight(),q>s&&(M=b(M).parent(),s=M.offset().top+M.outerHeight()),P=q+Math.min(Math.abs(s-q)/2,L.opts.lineBreakerOffset),N=M.outerWidth(),O=M.offset().left}else{M=R.parent();var p=R.offset().top+R.height(),o=Q.offset().top;if(p>o){return !1}P=(p+o)/2,N=M.outerWidth(),O=M.offset().left}}L.opts.iframe&&(O+=L.$iframe.offset().left-L.helpers.scrollLeft(),P+=L.$iframe.offset().top-L.helpers.scrollTop()),L.$box.append(v),v.css("top",P-L.win.pageYOffset),v.css("left",O-L.win.pageXOffset),v.css("width",N),v.data("tag1",R),v.data("tag2",Q),v.addClass("fr-visible").data("instance",L)}function J(c,o){var n,m,l=c.offset().top,k=c.offset().top+c.outerHeight();if(Math.abs(k-o)<=L.opts.lineBreakerOffset||Math.abs(o-l)<=L.opts.lineBreakerOffset){if(Math.abs(k-o)<Math.abs(o-l)){m=c.get(0);for(var e=m.nextSibling;e&&e.nodeType==Node.TEXT_NODE&&0===e.textContent.length;){e=e.nextSibling}if(!e){return K(c,null),!0}if(n=I(e)){return K(c,n),!0}}else{if(m=c.get(0),!m.previousSibling){return K(null,c),!0}if(n=I(m.previousSibling)){return K(n,c),!0}}}v.removeClass("fr-visible").removeData("instance")}function I(f){if(f){var e=b(f);if(0===L.$el.find(e).length){return null}if(f.nodeType!=Node.TEXT_NODE&&e.is(L.opts.lineBreakerTags.join(","))){return e}if(e.parents(L.opts.lineBreakerTags.join(",")).length>0){return f=e.parents(L.opts.lineBreakerTags.join(",")).get(0),0!==L.$el.find(f).length&&b(f).is(L.opts.lineBreakerTags.join(","))?b(f):null}}return null}function H(d){if("undefined"!=typeof d.inFroalaWrapper){return d.inFroalaWrapper}for(var e=d;d.parentNode&&d.parentNode!==L.$wp.get(0);){d=d.parentNode}return e.inFroalaWrapper=d.parentNode==L.$wp.get(0),e.inFroalaWrapper}function G(h,g){var f=L.doc.elementFromPoint(h,g);return f&&!b(f).closest(".fr-line-breaker").length&&!L.node.isElement(f)&&f!=L.$wp.get(0)&&H(f)?f:null}function F(g,k,j){for(var i=j,h=null;i<=L.opts.lineBreakerOffset&&!h;){h=G(g,k-i),h||(h=G(g,k+i)),i+=j}return h}function E(g,k,j){for(var i=null,h=100;!i&&g>L.$box.offset().left&&g<L.$box.offset().left+L.$box.outerWidth()&&h>0;){i=G(g,k),i||(i=F(g,k,5)),"left"==j?g-=L.opts.lineBreakerHorizontalOffset:g+=L.opts.lineBreakerHorizontalOffset,h-=L.opts.lineBreakerHorizontalOffset}return i}function D(d){a=null;var i=null,h=null,e=L.doc.elementFromPoint(d.pageX-L.win.pageXOffset,d.pageY-L.win.pageYOffset);e&&("HTML"==e.tagName||"BODY"==e.tagName||L.node.isElement(e)||(e.getAttribute("class")||"").indexOf("fr-line-breaker")>=0)?(h=F(d.pageX-L.win.pageXOffset,d.pageY-L.win.pageYOffset,1),h||(h=E(d.pageX-L.win.pageXOffset-L.opts.lineBreakerHorizontalOffset,d.pageY-L.win.pageYOffset,"left")),h||(h=E(d.pageX-L.win.pageXOffset+L.opts.lineBreakerHorizontalOffset,d.pageY-L.win.pageYOffset,"right")),i=I(h)):i=I(e),i?J(i,d.pageY):L.core.sameInstance(v)&&v.removeClass("fr-visible").removeData("instance")}function C(c){return v.hasClass("fr-visible")&&!L.core.sameInstance(v)?!1:L.popups.areVisible()||L.el.querySelector(".fr-selected-cell")?(v.removeClass("fr-visible"),!0):void (u!==!1||L.edit.isDisabled()||(a&&clearTimeout(a),a=setTimeout(D,30,c)))}function B(){a&&clearTimeout(a),v.hasClass("fr-visible")&&v.removeClass("fr-visible").removeData("instance")}function A(){u=!0,B()}function z(){u=!1}function y(l){l.preventDefault();var k=v.data("instance")||L;v.removeClass("fr-visible").removeData("instance");var j=v.data("tag1"),i=v.data("tag2"),h=L.html.defaultTag();null==j?h&&"TD"!=i.parent().get(0).tagName&&0===i.parents(h).length?i.before("<"+h+">"+b.FE.MARKERS+"<br></"+h+">"):i.before(b.FE.MARKERS+"<br>"):h&&"TD"!=j.parent().get(0).tagName&&0===j.parents(h).length?j.after("<"+h+">"+b.FE.MARKERS+"<br></"+h+">"):j.after(b.FE.MARKERS+"<br>"),k.selection.restore()}function x(){L.shared.$line_breaker||(L.shared.$line_breaker=b('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+L.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),v=L.shared.$line_breaker,L.events.on("shared.destroy",function(){v.html("").removeData().remove(),v=null},!0),L.events.on("destroy",function(){v.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(a)},!0),L.events.$on(v,"mousemove",function(c){c.stopPropagation()},!0),L.events.bindClick(v,"a",y)}function w(){return L.$wp?(x(),u=!1,L.events.$on(L.$win,"mousemove",C),L.events.$on(b(L.win),"scroll",B),L.events.on("popups.show.table.edit",B),L.events.on("commands.after",B),L.events.$on(b(L.win),"mousedown",A),void L.events.$on(b(L.win),"mouseup",z)):!1}var v,u,a;return{_init:w}}});