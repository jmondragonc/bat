(function(a){a.jCarouselLite={version:"1.9.3",curr:0};a.fn.anim=typeof a.fn.velocity!=="undefined"?a.fn.velocity:a.fn.animate;a.fn.jCarouselLite=function(c){var e=a.extend(true,{},a.fn.jCarouselLite.defaults,c);var d=Math.ceil;var b=Math.abs;this.each(function(){var Z,D,H,aa,r,F,m,K,T,x,u;var k="ontouchend" in document;var A={div:{},ul:{},li:{}};var z=false;var w=e.vertical?"top":"left";var o={};var Q=e.vertical?"height":"width";var O=e.vertical?"outerHeight":"outerWidth";var g=this;var X=a(this);var I=X.find(e.containerSelector).eq(0);var G=I.children(e.itemSelector);var f=G.length;var C=e.visible;var n=d(C);var ab=Math.floor(C);var v=Math.min(e.start,f-1);var j=1;var E=0;var P={};var J={};var s={};var p=e.vertical?"y":"x";var t=e.vertical?"x":"y";var V=e.init.call(this,e,G);if(V===false){return}var S=function(ac){if(this.id){this.id+=ac}};var l=function(){if(Z&&Z.length){Z.remove();D.remove()}G=I.children(e.liSelector);f=G.length;Z=G.slice(f-n).clone(true).each(S);D=G.slice(0,n).clone(true).each(S);I.prepend(Z).append(D);F=I.children(e.liSelector);m=F.length};var U=function(ac,i){return i.autoStop&&(i.circular?i.autoStop:Math.min(ac,i.autoStop))};X.data("dirjc",j);X.data(w+"jc",X.css(w));if(e.circular){l();v+=n;E=n}else{F=I.children(e.liSelector);m=F.length}var y=function(ae,ad){ae=d(ae);F.filter("."+e.activeClass).removeClass(e.activeClass);F.eq(ae).addClass(e.activeClass);var af=(ae-E)%f;var ac=af+ab;if(ad.go){u.removeClass(e.activeClass).removeClass(e.visibleClass);u.eq(af).addClass(e.activeClass);u.slice(af,af+ab).addClass(e.visibleClass);if(ac>u.length){u.slice(0,ac-u.length).addClass(e.visibleClass)}}if(ad.pager){H.removeClass(e.activeClass);H.eq(d(af/C)).addClass(e.activeClass)}return af};K=v;a.jCarouselLite.curr=K;var q=function(ac){var ae,i,ad;if(ac){A.div[Q]="";A.li={width:"",height:""};return A}ae=F[O](true);i=ae*m;ad=ae*C;A.div[Q]=ad+"px";A.ul[Q]=i+"px";A.ul[w]=-(K*ae)+"px";A.li={width:F.width(),height:F.height()};A.liSize=ae;return A};var N=function(ad){var ac,ae;var i={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:e.vertical?"hidden":"visible","float":e.vertical?"none":"left"}};if(ad){ac=q(true);X.css(ac.div);I.css(ac.ul);F.css(ac.li)}ac=q();if(e.autoCSS){a.extend(true,ac,i)}if(e.autoWidth){ae=parseInt(X.css(Q),10);A.liSize=ae/e.visible;ac.li[Q]=A.liSize-(F[O](true)-parseInt(F.css(Q),10));ac.ul[Q]=(A.liSize*m)+"px";ac.ul[w]=-(K*A.liSize)+"px";ac.div[Q]=ae}if(e.autoCSS){F.css(ac.li);I.css(ac.ul);X.css(ac.div)}};N();var R=function R(){return F.slice(K).slice(0,n)};a.jCarouselLite.vis=R;var h=function(ag,i){if(z){return false}i=i||{};var ac=K;var ae=ag>K;var ad=typeof i.speed!=="undefined"?i.speed:e.speed;var af=i.offset||0;if(e.beforeStart){e.beforeStart.call(X,R(),ae,i)}if(e.circular){if(ag>K&&ag>m-n){ag=ag-K;K=K%f;ag=K+ag;I.css(w,(-K*A.liSize)-af)}else{if(ag<K&&ag<0){K+=f;ag+=f;I.css(w,(-K*A.liSize)-af)}}K=ag+(ag%1)}else{if(ag<0){ag=0}else{if(ag>m-ab){ag=m-ab}}K=ag;if(K===0&&e.first){e.first.call(this,R(),ae)}if(K===m-ab&&e.last){e.last.call(this,R(),ae)}if(e.btnPrev){e.$btnPrev.toggleClass(e.btnDisabledClass,K===0)}if(e.btnNext){e.$btnNext.toggleClass(e.btnDisabledClass,K===m-ab)}}y(K,P);a.jCarouselLite.curr=K;if(ac===K&&!i.force){if(e.afterEnd){e.afterEnd.call(X,R(),ae,i)}return K}z=true;o[w]=-(K*A.liSize);I.anim(o,ad,e.easing,function(){if(e.afterEnd){e.afterEnd.call(X,R(),ae,i)}z=false});return K};if(e.btnGo&&e.btnGo.length){if(a.isArray(e.btnGo)&&typeof e.btnGo[0]==="string"){u=a(e.btnGo.join())}else{u=a(e.btnGo)}u.each(function(ac){a(this).bind("click.jc",function(ad){ad.preventDefault();var i={btnGo:this,btnGoIndex:ac};return h(e.circular?C+ac:ac,i)})});P.go=1}var L=0;var B=U(f,e);var Y=typeof e.auto==="number"?e.auto:e.scroll;var M=function(){g.setAutoAdvance=setTimeout(function(){if(!B||B>L){j=X.data("dirjc");h(K+(j*Y),{auto:true});L++;M()}},e.timeout)};a.each(["btnPrev","btnNext"],function(i,ac){if(e[ac]){e["$"+ac]=a.isFunction(e[ac])?e[ac].call(X[0]):a(e[ac]);e["$"+ac].bind("click.jc",function(ae){ae.preventDefault();var ad=i===0?K-e.scroll:K+e.scroll;if(e.directional){X.data("dirjc",(i?1:-1))}return h(ad)})}});if(!e.circular){if(e.btnPrev&&v===0){e.$btnPrev.addClass(e.btnDisabledClass)}if(e.btnNext&&v+ab>=m){e.$btnNext.addClass(e.btnDisabledClass)}}if(e.autoPager){aa=d(f/C);H=[];for(var W=0;W<aa;W++){H.push('<li><a href="#">'+(W+1)+"</a></li>")}if(H.length>1){H=a("<ul>"+H.join("")+"</ul>").appendTo(e.autoPager).find("li");H.find("a").each(function(ac){a(this).bind("click.jc",function(ad){ad.preventDefault();var i=ac*C;if(e.circular){i+=C}return h(i)})});P.pager=1}}y(v,P);if(e.mouseWheel&&X.mousewheel){X.bind("mousewheel.jc",function(i,ac){return ac>0?h(K-e.scroll):h(K+e.scroll)})}if(e.pause&&e.auto&&!k){X.bind("mouseenter.jc",function(){X.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){X.trigger("resumeCarousel.jc")})}if(e.auto){M()}X.bind("go.jc",function(ad,ae,ac){if(typeof ae==="undefined"){ae="+=1"}var i=typeof ae==="string"&&/(\+=|-=)(\d+)/.exec(ae);if(i){ae=i[1]==="-="?K-i[2]*1:K+i[2]*1}else{ae+=v}h(ae,ac)}).bind("startCarousel.jc",function(){clearTimeout(g.setAutoAdvance);g.setAutoAdvance=undefined;X.trigger("go","+="+e.scroll);M();X.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(i,ad){if(g.setAutoAdvance){return}clearTimeout(g.setAutoAdvance);g.setAutoAdvance=undefined;var ac=X.data("stoppedjc");if(ad||!ac){M();X.removeData("pausedjc");if(ac){X.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(){clearTimeout(g.setAutoAdvance);g.setAutoAdvance=undefined;X.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(g.setAutoAdvance);g.setAutoAdvance=undefined;X.data("stoppedjc",true)}).bind("refreshCarousel.jc",function(ac,i){if(i&&e.circular){l()}N(e.autoCSS)}).bind("endCarousel.jc",function(){if(g.setAutoAdvance){clearTimeout(g.setAutoAdvance);g.setAutoAdvance=undefined}if(e.btnPrev){e.$btnPrev.addClass(e.btnDisabledClass).unbind(".jc")}if(e.btnNext){e.$btnNext.addClass(e.btnDisabledClass).unbind(".jc")}if(e.btnGo){a.each(e.btnGo,function(ac,ad){a(ad).unbind(".jc")})}if(e.circular){F.slice(0,n).remove();F.slice(-n).remove()}a.each([w+"jc","pausedjc","stoppedjc","dirjc"],function(ac,ad){X.removeData(ad)});X.unbind(".jc")});x={touchstart:function(i){s.x=0;s.y=0;J.x=i.targetTouches[0].pageX;J.y=i.targetTouches[0].pageY;J[w]=parseFloat(I.css(w));J.time=+new Date()},touchmove:function(ac){var i=ac.targetTouches.length;if(i===1){s.x=ac.targetTouches[0].pageX;s.y=ac.targetTouches[0].pageY;o[w]=J[w]+(s[p]-J[p]);I.css(o);if(e.preventTouchWindowScroll){ac.preventDefault()}}else{s.x=J.x;s.y=J.y}},touchend:function(){if(!s.x){return}var i=J[p]-s[p];var af=b(i);var ae=af>e.swipeThresholds[p];var ah=b(J[t]-s[t])<e.swipeThresholds[t];var ad=+new Date()-J.time;var aj=ad<e.swipeThresholds.time;var ac=i>0?"+=":"-=";var ai=ac+e.scroll;var ag={force:true};if(aj&&ae&&ah){ag.speed=e.speed/2}else{if((!aj&&af<A.liSize/2)||!ae||(aj&&!ah)){ai="+=0"}else{if(!aj&&af>A.liSize/2){ai=Math.round(af/A.liSize);ai=ac+(ai>e.visible?e.visible:ai);ag.offset=i}}}X.trigger("go.jc",[ai,ag]);s={}},handle:function(i){i=i.originalEvent;x[i.type](i)}};if(k&&e.swipe){X.bind("touchstart.jc touchmove.jc touchend.jc",x.handle)}if(e.responsive){T=e.autoCSS;a(window).bind("resize",function(){if(T){I.width(I.width()*2);T=false}clearTimeout(r);r=setTimeout(function(){X.trigger("refreshCarousel.jc",[true]);T=e.autoCSS},100)})}});return this};a.fn.jCarouselLite.defaults={containerSelector:"ul",itemSelector:"li",btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:false,speed:200,easing:null,timeout:4000,auto:false,directional:false,autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,autoCSS:true,responsive:false,autoWidth:false,swipe:true,swipeThresholds:{x:80,y:40,time:150},preventTouchWindowScroll:true,init:function(){},first:null,last:null,beforeStart:null,afterEnd:null}})(jQuery);